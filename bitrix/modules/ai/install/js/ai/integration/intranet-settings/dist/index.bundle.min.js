this.BX=this.BX||{};this.BX.AI=this.BX.AI||{};this.BX.AI.Integration=this.BX.AI.Integration||{};(function(e,t,i,a,n,r,s,l){"use strict";function o(e,t){v(e,t);t.add(e)}function c(e,t,i){v(e,t);t.set(e,i)}function v(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function h(e,t,i){f(e,t);u(i,"get");return d(e,i)}function u(e,t){if(e===undefined){throw new TypeError("attempted to "+t+" private static field before its declaration")}}function f(e,t){if(e!==t){throw new TypeError("Private static access of wrong provenance")}}function d(e,t){if(t.get){return t.get.call(e)}return t.value}function p(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var b=new WeakMap;var w=new WeakMap;var g=new WeakMap;var I=new WeakSet;var E=new WeakSet;var T=new WeakSet;var S=new WeakSet;var m=function(e){babelHelpers.inherits(i,e);function i(){var e;babelHelpers.classCallCheck(this,i);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).call(this));o(babelHelpers.assertThisInitialized(e),S);o(babelHelpers.assertThisInitialized(e),T);o(babelHelpers.assertThisInitialized(e),E);o(babelHelpers.assertThisInitialized(e),I);babelHelpers.defineProperty(babelHelpers.assertThisInitialized(e),"titlePage","");babelHelpers.defineProperty(babelHelpers.assertThisInitialized(e),"descriptionPage","");c(babelHelpers.assertThisInitialized(e),b,{writable:true,value:[]});c(babelHelpers.assertThisInitialized(e),w,{writable:true,value:{}});c(babelHelpers.assertThisInitialized(e),g,{writable:true,value:[]});e.titlePage=t.Loc.getMessage("INTRANET_SETTINGS_TITLE_PAGE_AI");e.descriptionPage=t.Loc.getMessage("INTRANET_SETTINGS_TITLE_PAGE_AI_DESC");return e}babelHelpers.createClass(i,[{key:"getType",value:function e(){return"ai"}},{key:"appendSections",value:function e(t){var i=this;var a=this.getValue("fields");if(a){for(var n in a){var r=p(this,I,H).call(this,a[n]);if(r){r.renderTo(t)}if(a[n].relations){a[n].relations.forEach((function(e){babelHelpers.classPrivateFieldGet(i,b).push(e)}))}}}p(this,S,A).call(this)}}]);return i}(l.BaseSettingsPage);function H(e){var i,r,s=this;if(!e.items){return}var o=Object.values(e.items);if(o.length<=0){return}var c=e.title,v=e.helpdesk,u=e.icon;t.Runtime.loadExtension((i=u.set)!==null&&i!==void 0?i:h(m,m,X));var f=new l.SettingsSection({parent:this,section:{title:c,titleIconClasses:"ui-icon-set "+((r=u.code)!==null&&r!==void 0?r:h(m,m,k)),isOpen:true}});if(e.description){var d=e.description;if(v){var b="redirect=detail&code="+v;d+=' <a href="javascript: void();"'+" onclick=\"BX.PreventDefault(); top.BX.Helper.show('"+b+"');\""+">"+t.Loc.getMessage("INTRANET_SETTINGS_HELPDESK_LINK")+"</a>"}f.getSectionView().append(new n.Row({content:new a.Alert({row:{separator:"null"},text:d,inline:true,size:a.AlertSize.SMALL,color:a.AlertColor.PRIMARY}).getContainer()}).render())}o.forEach((function(e){var t=p(s,E,P).call(s,e);if(t.getChildrenElements().length>0){t.setParentElement(f)}}));return f}function P(e){var i=e.code,a=e.type,n=e.title,o=e.header,c=e.value,v=e.options;var h=e.onSave&&e.onSave.switcher;var u=new l.SettingsRow({row:{className:h?"--with-on-save":""}});var f=null;if(a==="boolean"){f=new s.Checker({inputName:i,title:n,checked:c,hintOn:o,hintOff:o})}else if(a==="list"){if(v&&c){var d=[];var b=[];for(var w in v){if(t.Type.isString(v[w])){d.push({name:v[w],value:w,selected:w===c})}else if(t.Type.isPlainObject(v[w])){b.push(v[w])}}if(d.length>0){f=new r.SelectorField({inputName:i,label:n,name:i,items:d,additionalItems:b,current:c})}}}if(f){p(this,T,B).call(this,i,f,u)}if(h){var I=new s.Checker({inputName:i+"_onsave",title:e.onSave.switcher,checked:false,size:"extra-small",noMarginBottom:true});p(this,T,B).call(this,i,I,u);babelHelpers.classPrivateFieldGet(this,g).push(I)}return u}function B(e,t,i){i.addChild(new l.SettingsField({fieldView:t}));babelHelpers.classPrivateFieldGet(this,w)[e]={code:e,field:t,row:i}}function A(){var e=this;if(babelHelpers.classPrivateFieldGet(this,g).length>0){i.EventEmitter.subscribe(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.Settings:onBeforeSave",(function(){babelHelpers.classPrivateFieldGet(e,g).forEach((function(e){var t;(t=e.switcher)===null||t===void 0?void 0:t.check(false,false)}))}))}if(babelHelpers.classPrivateFieldGet(this,b).length>0){babelHelpers.classPrivateFieldGet(this,b).forEach((function(t){var a=babelHelpers.classPrivateFieldGet(e,w)[t.parent];if(a&&a.field&&a.field instanceof s.Checker){i.EventEmitter.subscribe(a.field,"change",(function(i){var a=i.getData();t.children.forEach((function(t){var i,n;var r=(i=babelHelpers.classPrivateFieldGet(e,w)[t])===null||i===void 0?void 0:(n=i.row)===null||n===void 0?void 0:n.getRowView();if(r){a?r.show():r.hide()}}))}))}}))}}var X={writable:true,value:"ui.icon-set.main"};var k={writable:true,value:"--copilot-ai"};i.EventEmitter.subscribe(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.Settings:onExternalPageLoaded:ai",(function(){return new m}))})(this.BX.AI.Integration.IntranetSettings=this.BX.AI.Integration.IntranetSettings||{},BX,BX.Event,BX.UI,BX.UI,BX.AI.UI.Field,BX.UI.FormElements,BX.UI.FormElements);
//# sourceMappingURL=index.bundle.map.js