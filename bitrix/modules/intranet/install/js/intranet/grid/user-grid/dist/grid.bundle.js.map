{"version":3,"file":"grid.bundle.js","sources":["../src/field/base-field.js","../src/field/photo-field.js","../src/field/full-name-field.js","../src/field/employee-field.js","../src/grid-manager.js","../src/field/activity-field.js","../src/field/department-field.js"],"sourcesContent":["import { Dom } from 'main.core';\n\nexport class BaseField\n{\n\t#fieldId: string;\n\t#gridId: ?string;\n\n\tconstructor(params: {\n\t\tfieldId: string,\n\t\tgridId: string,\n\t}) {\n\t\tthis.#fieldId = params.fieldId;\n\t\tthis.#gridId = params.gridId ?? null;\n\t}\n\n\tgetGridId(): string\n\t{\n\t\treturn this.#gridId;\n\t}\n\n\tgetFieldId(): string\n\t{\n\t\treturn this.#fieldId;\n\t}\n\n\tgetGrid(): any | null\n\t{\n\t\tlet grid = null;\n\n\t\tif (this.#gridId)\n\t\t{\n\t\t\tgrid = BX.Main.gridManager.getById(this.#gridId);\n\t\t}\n\n\t\treturn grid?.instance;\n\t}\n\n\tgetFieldNode(): HTMLElement\n\t{\n\t\treturn document.getElementById(this.getFieldId());\n\t}\n\n\tappendToFieldNode(element: HTMLElement): void\n\t{\n\t\tDom.append(element, this.getFieldNode());\n\t}\n}","import { BaseField } from './base-field';\nimport { Dom, Tag } from 'main.core';\n\nexport type PhotoFieldType = {\n\tphotoUrl: string,\n\tisInvited: boolean,\n\tisConfirmed: boolean,\n}\n\nexport class PhotoField extends BaseField\n{\n\trender(params: PhotoFieldType): void\n\t{\n\t\tDom.addClass(this.getFieldNode(), 'user-grid_user-photo');\n\n\t\tif (params.photoUrl)\n\t\t{\n\t\t\tDom.style(this.getFieldNode(), { 'background-image': `url(\"${params.photoUrl}\")` });\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconst iconClass = (params.isInvited || (!params.isConfirmed && params.isInvited))\n\t\t\t\t? '--person-clock'\n\t\t\t\t: '--person';\n\n\t\t\tconst photo = Tag.render`\n\t\t\t\t<div class=\"ui-icon-set ${iconClass}\" style=\"--ui-icon-set__icon-size: 35px; --ui-icon-set__icon-color: #fff;\"></div>\n\t\t\t`;\n\n\t\t\tDom.append(photo, this.getFieldNode());\n\t\t}\n\t}\n}","import { BaseField } from './base-field';\nimport { Dom, Tag, Loc, Text } from 'main.core';\nimport { Label, LabelColor } from 'ui.label';\n\nexport type FullNameFieldType = {\n\tfullName: string,\n\tprofileLink: string,\n\tisConfirmed: boolean,\n\tisAdmin: boolean,\n\tisExtranet: boolean,\n\tposition: ?string,\n\tisInvited: boolean,\n\tphotoUrl: string,\n\tisIntegrator: boolean,\n}\n\nexport class FullNameField extends BaseField\n{\n\trender(params: FullNameFieldType): void\n\t{\n\t\tconst fullNameContainer = Tag.render`\n\t\t\t<div class=\"user-grid_full-name-container\">${this.#getFullNameLink(params.fullName, params.profileLink)}</div>\n\t\t`;\n\n\t\tif (params.position)\n\t\t{\n\t\t\tDom.append(this.#getPositionContainer(Text.encode(params.position)), fullNameContainer);\n\t\t}\n\n\t\tif (!params.isInvited && params.isConfirmed)\n\t\t{\n\t\t\tif (params.isIntegrator)\n\t\t\t{\n\t\t\t\tDom.append(this.#getIntegratorBalloonContainer(), fullNameContainer);\n\t\t\t}\n\t\t\telse if (params.isAdmin)\n\t\t\t{\n\t\t\t\tDom.append(this.#getAdminBalloonContainer(), fullNameContainer);\n\t\t\t}\n\t\t\telse if (params.isExtranet)\n\t\t\t{\n\t\t\t\tDom.append(this.#getExtranetBalloonContainer(), fullNameContainer);\n\t\t\t}\n\t\t}\n\t\telse if (params.isInvited && !params.isConfirmed)\n\t\t{\n\t\t\tDom.append(this.#getInviteNotConfirmedContainer(), fullNameContainer);\n\t\t}\n\t\telse if (params.isInvited)\n\t\t{\n\t\t\tDom.append(this.#getInviteNotAcceptedContainer(), fullNameContainer);\n\t\t}\n\n\t\tthis.appendToFieldNode(fullNameContainer);\n\t}\n\n\t#getFullNameLink(fullName: string, profileLink: string): HTMLElement\n\t{\n\t\treturn Tag.render`<a class=\"user-grid_full-name-label\" href=\"${profileLink}\">${fullName}</a>`;\n\t}\n\n\t#getInviteNotAcceptedContainer(): HTMLElement\n\t{\n\t\tconst label = new Label({\n\t\t\ttext: Loc.getMessage('INTRANET_JS_CONTROL_BALLOON_INVITATION_NOT_ACCEPTED'),\n\t\t\tcolor: LabelColor.LIGHT_BLUE,\n\t\t\tfill: true,\n\t\t\tsize: Label.Size.MD,\n\t\t\tcustomClass: 'user-grid_label',\n\t\t});\n\n\t\treturn label.render();\n\t}\n\n\t#getInviteNotConfirmedContainer(): HTMLElement\n\t{\n\t\tconst label = new Label({\n\t\t\ttext: Loc.getMessage('INTRANET_JS_CONTROL_BALLOON_NOT_CONFIRMED'),\n\t\t\tcolor: LabelColor.YELLOW,\n\t\t\tfill: true,\n\t\t\tsize: Label.Size.MD,\n\t\t\tcustomClass: 'user-grid_label',\n\t\t});\n\n\t\treturn label.render();\n\t}\n\n\t#getPositionContainer(position: string): HTMLElement\n\t{\n\t\treturn Tag.render`<div class=\"user-grid_position-label\">${position}</div>`;\n\t}\n\n\t#getIntegratorBalloonContainer(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<span class=\"user-grid_role-label --integrator\">\n\t\t\t\t${Loc.getMessage('INTRANET_JS_CONTROL_BALLOON_INTEGRATOR')}\n\t\t\t</span>\n\t\t`;\n\t}\n\n\t#getAdminBalloonContainer(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<span class=\"user-grid_role-label --admin\">\n\t\t\t\t${Loc.getMessage('INTRANET_JS_CONTROL_BALLOON_ADMIN')}\n\t\t\t</span>\n\t\t`;\n\t}\n\n\t#getExtranetBalloonContainer(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<span class=\"user-grid_role-label --extranet\">\n\t\t\t\t${Loc.getMessage('INTRANET_JS_CONTROL_BALLOON_EXTRANET')}\n\t\t\t</span>\n\t\t`;\n\t}\n}\n","import { BaseField } from './base-field';\nimport { Tag, Text, Dom } from 'main.core';\nimport { PhotoField } from './photo-field';\nimport { FullNameField } from './full-name-field';\n\nexport type EmployeeFieldType = {\n\tfullName: string,\n\tprofileLink: string,\n\tisConfirmed: boolean,\n\tisAdmin: boolean,\n\tposition: ?string,\n\tisInvited: boolean,\n\tisIntegrator: boolean,\n}\n\nexport class EmployeeField extends BaseField\n{\n\trender(params: EmployeeFieldType): void\n\t{\n\t\tconst photoFieldId = Text.getRandom(6);\n\t\tconst fullNameFieldId = Text.getRandom(6);\n\t\tthis.appendToFieldNode(Tag.render`<span id=\"${photoFieldId}\"></span>`);\n\t\tthis.appendToFieldNode(Tag.render`<span class=\"user-grid_full-name-wrapper\" id=\"${fullNameFieldId}\"></span>`);\n\n\t\t(new PhotoField({ fieldId: photoFieldId })).render(params);\n\t\t(new FullNameField({ fieldId: fullNameFieldId })).render(params);\n\n\t\tDom.addClass(this.getFieldNode(), 'user-grid_employee-card-container');\n\t}\n}","import { Type, Loc } from 'main.core';\nimport { PopupManager } from 'main.popup';\nimport { MessageBox, MessageBoxButtons } from 'ui.dialogs.messagebox';\n\nexport type SetSortType = {\n\tmenuId: ?string,\n\tgridId: string,\n\tsortBy: string,\n\torder: 'ASC' | 'DESC',\n}\n\nexport type SetFilterType = {\n\tgridId: string,\n\tfilter: Object,\n}\n\nexport class GridManager\n{\n\tstatic instances: Array<GridManager> = [];\n\t#grid: BX.Main.grid;\n\n\tconstructor(gridId: string)\n\t{\n\t\tthis.#grid = BX.Main.gridManager.getById(gridId)?.instance;\n\t}\n\n\tstatic getInstance(gridId: string): GridManager\n\t{\n\t\tif (!this.instances[gridId])\n\t\t{\n\t\t\tthis.instances[gridId] = new GridManager(gridId);\n\t\t}\n\n\t\treturn this.instances[gridId];\n\t}\n\n\tstatic setSort(options: SetSortType): void\n\t{\n\t\tPopupManager.getPopupById(options.menuId)?.close();\n\t\tconst grid = BX.Main.gridManager.getById(options.gridId)?.instance;\n\n\t\tif (Type.isObject(grid))\n\t\t{\n\t\t\tgrid.tableFade();\n\t\t\tgrid.getUserOptions().setSort(options.sortBy, options.order, () => {\n\t\t\t\tgrid.reload();\n\t\t\t});\n\t\t}\n\t}\n\n\tstatic setFilter(options: SetFilterType): void\n\t{\n\t\tconst grid = BX.Main.gridManager.getById(options.gridId)?.instance;\n\t\tconst filter = BX.Main.filterManager.getById(options.gridId);\n\n\t\tif (Type.isObject(grid) && Type.isObject(filter))\n\t\t{\n\t\t\tfilter.getApi().extendFilter(options.filter);\n\t\t}\n\t}\n\n\tstatic reinviteAction(userId: string, isExtranetUser: boolean): Promise\n\t{\n\t\treturn BX.ajax.runAction('intranet.controller.invite.reinvite', {\n\t\t\tdata: {\n\t\t\t\tparams: {\n\t\t\t\t\tuserId,\n\t\t\t\t\textranet: (isExtranetUser ? 'Y' : 'N'),\n\t\t\t\t},\n\t\t\t},\n\t\t}).then((response) => {\n\t\t\tif (response.data.result)\n\t\t\t{\n\t\t\t\tconst InviteAccessPopup = new BX.PopupWindow({\n\t\t\t\t\tcontent: `<p>${Loc.getMessage('INTRANET_USER_LIST_ACTION_REINVITE_SUCCESS')}</p>`,\n\t\t\t\t\tautoHide: true,\n\t\t\t\t});\n\n\t\t\t\tInviteAccessPopup.show();\n\t\t\t}\n\n\t\t\treturn response;\n\t\t});\n\t}\n\n\tconfirmAction(params: {\n\t\tuserId: number,\n\t\tisAccept: boolean,\n\t}): void\n\t{\n\t\tif (params.userId)\n\t\t{\n\t\t\tthis.confirmUser(params.isAccept ? 'confirm' : 'decline', () => {\n\t\t\t\tconst row = this.#grid.getRows().getById(params.userId);\n\t\t\t\trow?.stateLoad();\n\t\t\t\tBX.ajax.runAction('intranet.controller.invite.confirmUserRequest', {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuserId: params.userId,\n\t\t\t\t\t\tisAccept: params.isAccept ? 'Y' : 'N',\n\t\t\t\t\t},\n\t\t\t\t}).then((response) => {\n\t\t\t\t\trow?.update();\n\t\t\t\t}).catch((err) => {\n\t\t\t\t\trow?.stateUnload();\n\n\t\t\t\t\tif (!params.isAccept)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.activityAction({\n\t\t\t\t\t\t\tuserId: params.userId,\n\t\t\t\t\t\t\taction: 'deactivateInvited',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tactivityAction(params: {\n\t\tuserId: number,\n\t\taction: string,\n\t}): void\n\t{\n\t\tconst userId = params.userId ?? null;\n\t\tconst action = params.action ?? null;\n\n\t\tif (userId)\n\t\t{\n\t\t\tthis.confirmUser(action, () => {\n\t\t\t\tconst row = this.#grid.getRows().getById(params.userId);\n\t\t\t\trow?.stateLoad();\n\t\t\t\tBX.ajax.runComponentAction('bitrix:intranet.user.list', 'setActivity', {\n\t\t\t\t\tmode: 'class',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tuserId,\n\t\t\t\t\t\t\taction,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}).then(() => {\n\t\t\t\t\trow?.update();\n\t\t\t\t}).catch((response) => {\n\t\t\t\t\trow?.stateUnload();\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tBX.type.isNotEmptyObject(response)\n\t\t\t\t\t\t&& BX.type.isArray(response.errors)\n\t\t\t\t\t\t&& action === 'delete'\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn this.activityAction({\n\t\t\t\t\t\t\taction: 'deactivateInvited',\n\t\t\t\t\t\t\tuserId,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tconfirmUser(action: ?string, callBack: function)\n\t{\n\t\tMessageBox.show({\n\t\t\ttitle: this.getConfirmTitle(action) ?? '',\n\t\t\tmessage: this.getConfirmMessage(action) ?? '',\n\t\t\tbuttons: MessageBoxButtons.YES_CANCEL,\n\t\t\tyesCaption: this.getConfirmButtonText(action),\n\t\t\tonYes: (messageBox) => {\n\t\t\t\tcallBack();\n\t\t\t\tmessageBox.close();\n\t\t\t},\n\t\t});\n\t}\n\n\tgetConfirmTitle(action: ?string): ?string\n\t{\n\t\tswitch (action)\n\t\t{\n\t\t\tcase 'restore':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_RESTORE_TITLE');\n\t\t\tcase 'confirm':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_CONFIRM_TITLE');\n\t\t\tcase 'delete':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DELETE_TITLE');\n\t\t\tcase 'deactivate':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DEACTIVATE_TITLE');\n\t\t\tcase 'deactivateInvited':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DEACTIVATE_INVITED_TITLE');\n\t\t\tcase 'decline':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DECLINE_TITLE');\n\t\t\tdefault:\n\t\t\t\treturn '';\n\t\t}\n\t}\n\n\tgetConfirmMessage(action: ?string): ?string\n\t{\n\t\tswitch (action)\n\t\t{\n\t\t\tcase 'restore':\n\t\t\tcase 'confirm':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_CONFIRM_MESSAGE');\n\t\t\tcase 'delete':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DELETE_MESSAGE');\n\t\t\tcase 'deactivate':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DEACTIVATE_MESSAGE');\n\t\t\tcase 'deactivateInvited':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DEACTIVATE_INVITED_MESSAGE');\n\t\t\tcase 'decline':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DECLINE_MESSAGE');\n\t\t\tdefault:\n\t\t\t\treturn '';\n\t\t}\n\t}\n\n\tgetConfirmButtonText(action: ?string): ?string\n\t{\n\t\tswitch (action)\n\t\t{\n\t\t\tcase 'restore':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_RESTORE_BUTTON');\n\t\t\tcase 'confirm':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_CONFIRM_BUTTON');\n\t\t\tcase 'delete':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DELETE_BUTTON');\n\t\t\tcase 'deactivate':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DEACTIVATE_BUTTON');\n\t\t\tcase 'deactivateInvited':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DEACTIVATE_INVITED_BUTTON');\n\t\t\tcase 'decline':\n\t\t\t\treturn Loc.getMessage('INTRANET_USER_LIST_ACTION_DECLINE_BUTTON');\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n}\n","import { BaseField } from './base-field';\nimport { Loc, Tag, Dom } from 'main.core';\nimport { GridManager } from '../grid-manager';\nimport 'ui.cnt';\n\nexport type ActivityFieldType = {\n\tgridId: string,\n\tuserId: number,\n\taction: string,\n\tisExtranet: boolean,\n}\n\nexport class ActivityField extends BaseField\n{\n\trender(params: ActivityFieldType): void\n\t{\n\t\tlet title = '';\n\t\tlet color = '';\n\n\t\tswitch (params.action ?? 'invite')\n\t\t{\n\t\t\tcase 'accept':\n\t\t\t\ttitle = Loc.getMessage('INTRANET_JS_CONTROL_BUTTON_ACCEPT_ENTER');\n\t\t\t\tcolor = BX.UI.Button.Color.PRIMARY;\n\t\t\t\tbreak;\n\t\t\tcase 'invite':\n\t\t\tdefault:\n\t\t\t\ttitle = Loc.getMessage('INTRANET_JS_CONTROL_BUTTON_INVITE_AGAIN');\n\t\t\t\tcolor = BX.UI.Button.Color.LIGHT_BORDER;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst onclick = () => {\n\t\t\tif (params.action === 'invite')\n\t\t\t{\n\t\t\t\tbutton.setWaiting(true);\n\t\t\t\tGridManager.reinviteAction(params.userId, params.isExtranet).then(() => {\n\t\t\t\t\tbutton.setWaiting(false);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (params.action === 'accept')\n\t\t\t{\n\t\t\t\tGridManager.getInstance(params.gridId).confirmAction({\n\t\t\t\t\tisAccept: true,\n\t\t\t\t\tuserId: params.userId,\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tconst counter = Tag.render`\n\t\t\t<div class=\"ui-counter user-grid_invitation-counter\">\n\t\t\t\t<div class=\"ui-counter-inner\">1</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tDom.append(counter, this.getFieldNode());\n\n\t\tconst button = new BX.UI.Button({\n\t\t\ttext: title,\n\t\t\tcolor,\n\t\t\tnoCaps: true,\n\t\t\tsize: BX.UI.Button.Size.EXTRA_SMALL,\n\t\t\ttag: BX.UI.Button.Tag.INPUT,\n\t\t\tround: true,\n\t\t\tonclick,\n\t\t});\n\n\t\tbutton.renderTo(this.getFieldNode());\n\t}\n}\n","import { BaseField } from './base-field';\nimport { Tag, Dom, Loc } from 'main.core';\nimport 'ui.icon-set.main';\nimport { Dialog } from 'ui.entity-selector';\nimport { GridManager } from '../grid-manager';\n\nexport type DepartmentFieldType = {\n\tdepartments: Object,\n\tcanEdit: boolean,\n\tselectedDepartment: number,\n}\n\nexport class DepartmentField extends BaseField\n{\n\trender(params: DepartmentFieldType): void\n\t{\n\t\tDom.addClass(this.getFieldNode(), 'user-grid_department-container');\n\n\t\tif (params.departments.length === 0 && params.canEdit)\n\t\t{\n\t\t\t// TODO: add department button\n\t\t\treturn;\n\t\t\tconst onclick = () => {\n\t\t\t\tconst dialog = new Dialog({\n\t\t\t\t\twidth: 300,\n\t\t\t\t\theight: 300,\n\t\t\t\t\ttargetNode: addButton,\n\t\t\t\t\tcompactView: true,\n\t\t\t\t\tmultiple: false,\n\t\t\t\t\tentities: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'department',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tselectMode: 'departmentsOnly',\n\t\t\t\t\t\t\t\tallowSelectRootDepartment: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\n\t\t\t\tdialog.show();\n\t\t\t};\n\n\t\t\tconst addButton = Tag.render`\n\t\t\t\t<div class=\"user-grid_department-btn\" onclick=\"${onclick}\">\n\t\t\t\t\t<div class=\"user-grid_department-icon-container\">\n\t\t\t\t\t\t<div class=\"ui-icon-set --plus-30\" style=\"--ui-icon-set__icon-size: 18px; --ui-icon-set__icon-color: #2fc6f6;\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"user-grid_department-name-container\">\n\t\t\t\t\t\t${Loc.getMessage('INTRANET_JS_CONTROL_BALLOON_ADD_DEPARTMENT')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tthis.appendToFieldNode(addButton);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tObject.values(params.departments).forEach((department) => {\n\t\t\t\tconst isSelected = department.id === params.selectedDepartment;\n\t\t\t\tconst onclick = () => {\n\t\t\t\t\tGridManager.setFilter({\n\t\t\t\t\t\tgridId: this.getGridId(),\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\tDEPARTMENT: isSelected ? '' : department.id,\n\t\t\t\t\t\t\tDEPARTMENT_label: isSelected ? '' : department.name,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tconst button = Tag.render`\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"user-grid_department-btn ${isSelected ? '--selected' : ''}\"\n\t\t\t\t\t\tonclick=\"${onclick}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"user-grid_department-name-container\">\n\t\t\t\t\t\t\t${department.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\n\t\t\t\tif (isSelected)\n\t\t\t\t{\n\t\t\t\t\tDom.append(Tag.render`\n\t\t\t\t\t\t<div class=\"user-grid_department-btn-remove ui-icon-set --cross-60\"></div>\n\t\t\t\t\t`, button);\n\t\t\t\t}\n\n\t\t\t\tthis.appendToFieldNode(button);\n\t\t\t});\n\t\t}\n\t}\n}\n"],"names":["BaseField","params","fieldId","gridId","grid","BX","Main","gridManager","getById","instance","document","getElementById","getFieldId","element","Dom","append","getFieldNode","PhotoField","addClass","photoUrl","style","iconClass","isInvited","isConfirmed","photo","Tag","render","FullNameField","fullNameContainer","fullName","profileLink","position","Text","encode","isIntegrator","isAdmin","isExtranet","appendToFieldNode","label","Label","text","Loc","getMessage","color","LabelColor","LIGHT_BLUE","fill","size","Size","MD","customClass","YELLOW","EmployeeField","photoFieldId","getRandom","fullNameFieldId","GridManager","_classPrivateFieldInitSpec","userId","confirmUser","isAccept","row","getRows","stateLoad","ajax","runAction","data","then","response","update","err","stateUnload","activityAction","action","runComponentAction","mode","type","isNotEmptyObject","isArray","errors","callBack","MessageBox","show","title","getConfirmTitle","message","getConfirmMessage","buttons","MessageBoxButtons","YES_CANCEL","yesCaption","getConfirmButtonText","onYes","messageBox","close","instances","options","PopupManager","getPopupById","menuId","Type","isObject","tableFade","getUserOptions","setSort","sortBy","order","reload","filter","filterManager","getApi","extendFilter","isExtranetUser","extranet","result","InviteAccessPopup","PopupWindow","content","autoHide","ActivityField","UI","Button","Color","PRIMARY","LIGHT_BORDER","onclick","button","setWaiting","reinviteAction","getInstance","confirmAction","counter","noCaps","EXTRA_SMALL","tag","INPUT","round","renderTo","DepartmentField","departments","length","canEdit","dialog","Dialog","width","height","targetNode","addButton","compactView","multiple","entities","id","selectMode","allowSelectRootDepartment","Object","values","forEach","department","isSelected","selectedDepartment","setFilter","getGridId","DEPARTMENT","DEPARTMENT_label","name"],"mappings":"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"}