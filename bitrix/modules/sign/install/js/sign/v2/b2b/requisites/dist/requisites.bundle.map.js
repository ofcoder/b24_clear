{"version":3,"file":"requisites.bundle.map.js","names":["this","BX","Sign","exports","main_core","main_core_events","main_loader","sign_v2_api","sign_v2_helper","_","t","_t","_t2","_t3","crmEditorSettings","entityTypeId","guid","params","ENABLE_PAGE_TITLE_CONTROLS","ENABLE_MODE_TOGGLE","IS_EMBEDDED","forceDefaultConfig","enableSingleSectionCombining","companyEntity","contactEntity","events","_requisitesNode","babelHelpers","classPrivateFieldLooseKey","_initiatorNode","_api","_editors","_members","_loadEntityEditor","_showEntityEditor","_getMembersData","_saveEditor","_addMembers","_removeMembers","_loadMembers","_getRequisiteData","_toggleCompany","_toggleContact","_toggleEntity","Requisites","EventEmitter","constructor","super","Object","defineProperty","value","_toggleEntity2","_toggleContact2","_toggleCompany2","_getRequisiteData2","_loadMembers2","_removeMembers2","_addMembers2","_saveEditor2","_getMembersData2","_showEntityEditor2","_loadEntityEditor2","writable","setEventNamespace","classPrivateFieldLooseBase","Tag","render","Api","documentData","getLayout","Text","encode","initiator","Event","bind","target","emit","preparingNode","Loc","getMessage","Hint","create","checkInitiator","parentNode","Dom","addClass","focus","removeClass","async","entityData","uid","documentUid","MYCOMPANY_ID_INFO","COMPANY_DATA","companyData","CLIENT_INFO","CONTACT_DATA","contactData","REQUISITE_BINDING","REQUISITE_ID","selectedContactRequisite","companyEntityId","id","contactEntityId","companyRequisiteData","contactRequisiteData","documentMembers","itemsForRemove","filter","member","index","entityId","membersData","result","company","part","contact","length","companyUid","contactUid","companyPresetId","presetId","contactPresetId","loader","Loader","size","_response$data","show","response","ajax","runAction","data","destroy","html","e","console","error","clean","documentId","editorNode","getContainer","appendChild","editorHtml","Runtime","Editor","Reflection","getClass","defaultInstance","map","party","_advancedInfo$multiFi","title","url","advancedInfo","type","multiFields","editor","clientControl","getControlById","isInViewMode","hasContentToDisplay","promise","Promise","resolve","successFullEvent","errorEvents","subscribeOnce","event","forEach","save","unsubscribeAll","_babelHelpers$classPr","_documentMembers$","_documentMembers$2","sameCompany","sameContact","companyPromise","addMember","contactPromise","all","removeItems","removeItem","removeMember","loadMembers","memberData","_babelHelpers$classPr2","selectedRequisiteId","_requisiteData$find","requisiteData","selectedItem","find","item","requisiteId","selected","crmEditor","companyField","companySection","contactsField","clientSection","field","section","switchToSingleEditMode","isRequired","args","getMode","UI","EntityEditorMode","view","switchControlMode","edit","apply","layout","remove","_addContactButton","switchToViewMode","getId","hasContacts","hasCompanies","enableToggling","V2"],"sources":["requisites.bundle.js"],"mappings":"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"}