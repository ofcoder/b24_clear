{"version":3,"file":"document-send.bundle.js","sources":["../src/item.js","../src/index.js"],"sourcesContent":["import { Tag, Type, Dom, Loc, Text as TextFormat } from 'main.core';\nimport { Loader } from 'main.loader';\nimport type { Role } from 'sign.v2.api';\nimport { Dialog } from 'ui.entity-selector';\n\nimport { Api } from 'sign.v2.api';\n\nexport type ItemData = {\n\tentityType: string,\n\tentityId: number,\n\trole?: Role,\n};\n\ntype ItemViewData = {\n\theader: string,\n\tfooter: string,\n\tavatar: ?string,\n};\n\nexport const EntityTypes = Object.freeze({\n\tUser: 'user',\n\tCompany: 'company'\n});\n\nexport class Item\n{\n\t#api: Api;\n\t#ui = {\n\t\tcontainer: HTMLDivElement = null,\n\t\tavatar: HTMLDivElement = null,\n\t\ttitle: {\n\t\t\tcontainer: HTMLDivElement = null,\n\t\t\theader: HTMLDivElement = null,\n\t\t\tfooter: HTMLDivElement = null,\n\t\t}\n\t};\n\n\t#userDialog: ?Dialog = null;\n\t#loader: ?Loader = null;\n\n\t#data: ?ItemData = null;\n\t#viewData: ?ItemViewData = null;\n\n\tconstructor(data: ItemData)\n\t{\n\t\tthis.#api = new Api();\n\t\tthis.#data = data;\n\t\tthis.#ui.container = this.getLayout();\n\t\tif (Type.isStringFilled(data?.entityType) && Type.isInteger(data?.entityId))\n\t\t{\n\t\t\tthis.#load();\n\t\t}\n\t}\n\n\tsetItemData(data: ItemData): void\n\t{\n\t\tif (this.#data.entityId === data.entityId && this.#data.entityType === data.entityType)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#data = data;\n\t\tif (Type.isStringFilled(data?.entityType) && Type.isInteger(data?.entityId))\n\t\t{\n\t\t\tthis.#load();\n\t\t}\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\tif (this.#ui.container)\n\t\t{\n\t\t\treturn this.#ui.container;\n\t\t}\n\n\t\tconst modifier = this.#data.entityType === EntityTypes.User ? ' --user' : '';\n\t\tthis.#ui.avatar = Tag.render`<div class=\"sign-b2e-send__party_item-info-avatar${modifier}\"></div>`;\n\t\tthis.#ui.title.header = Tag.render`<div class=\"sign-b2e-send__party_item-info-header\"></div>`;\n\t\tthis.#ui.title.footer = Tag.render`<div class=\"sign-b2e-send__party_item-info-footer\"></div>`;\n\t\tthis.#ui.title.container = Tag.render`\n\t\t\t<div class=\"sign-b2e-send__party_item-info-title\">\n\t\t\t\t${this.#ui.title.header}\n\t\t\t\t${this.#ui.title.footer}\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.#ui.container = Tag.render`\n\t\t\t<div class=\"sign-b2e-send__party_item-info\">\n\t\t\t\t${this.#ui.avatar}\n\t\t\t\t${this.#ui.title.container}\n\t\t\t</div>\n\t\t`;\n\n\t\treturn this.#ui.container;\n\t}\n\n\t#loadCompany(): Promise\n\t{\n\t\treturn this.#api.loadB2eCompanyList()\n\t\t\t.then(data => {\n\t\t\t\tif (Type.isObject(data.companies) && Type.isArray(data.companies))\n\t\t\t\t{\n\t\t\t\t\tconst company = data.companies.filter(company => company.id === this.#data.entityId)[0] ?? null;\n\t\t\t\t\tif (company === null)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst footer = Type.isBoolean(data?.showTaxId) && data?.showTaxId && company?.rqInn\n\t\t\t\t\t\t? Loc.getMessage('SIGN_DOCUMENT_SUMMARY_COMPANY_INN',\n\t\t\t\t\t\t\t{ '%innValue%' : TextFormat.encode(company?.rqInn) }\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: null\n\t\t\t\t\t;\n\n\t\t\t\t\tthis.#viewData = {\n\t\t\t\t\t\theader: company?.title,\n\t\t\t\t\t\tfooter: footer,\n\t\t\t\t\t\tavatar: null\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.#refreshView();\n\t\t\t\t}\n\n\t\t\t\tthis.#hideLoader();\n\t\t\t}).catch((response) => {\n\t\t\t\tconsole.log(response);\n\t\t\t})\n\t\t;\n\t}\n\n\t#loadUser(): Promise\n\t{\n\t\t return new Promise((resolve) => {\n\t\t\tthis.#userDialog = new Dialog({\n\t\t\t\tentities: [\n\t\t\t\t\t{ id: EntityTypes.User }\n\t\t\t\t],\n\t\t\t\tevents: {\n\t\t\t\t\t'onLoad': (event) => {\n\t\t\t\t\t\tconst user = this.#userDialog.getSelectedItems()[0] ?? null;\n\t\t\t\t\t\tif (Type.isObject(user))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst lastName = user?.customData?.get('lastName') ?? '';\n\t\t\t\t\t\t\tthis.#viewData = {\n\t\t\t\t\t\t\t\theader: user?.customData?.get('name') + ' ' + lastName,\n\t\t\t\t\t\t\t\tfooter: user?.customData?.get('position') ?? '',\n\t\t\t\t\t\t\t\tavatar: user?.avatar ?? null,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis.#refreshView();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.#hideLoader();\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpreselectedItems: [[EntityTypes.User, this.#data.entityId]]\n\t\t\t});\n\n\t\t\tthis.#userDialog.load();\n\t\t});\n\t}\n\n\tasync #load(): Promise<void>\n\t{\n\t\tthis.#showLoader();\n\t\tif (this.#data.entityType === EntityTypes.Company)\n\t\t{\n\t\t\tawait this.#loadCompany();\n\t\t}\n\t\telse if (this.#data.entityType === EntityTypes.User)\n\t\t{\n\t\t\tawait this.#loadUser();\n\t\t}\n\t\tthis.#refreshView();\n\t\tthis.#hideLoader();\n\t}\n\n\t#refreshView(): void\n\t{\n\t\tif (this.#viewData?.avatar !== null)\n\t\t{\n\t\t\tthis.#ui.avatar.style.backgroundImage = `url(\"${this.#viewData.avatar}\")`;\n\t\t}\n\n\t\tthis.#ui.title.header.innerText = this.#viewData.header;\n\t\tthis.#ui.title.header.title = this.#viewData.header;\n\t\tthis.#ui.title.footer.innerText = this.#viewData.footer;\n\t\tthis.#ui.title.footer.title = this.#viewData.footer;\n\t}\n\n\t#getLoader(): Loader\n\t{\n\t\tif (this.#loader)\n\t\t{\n\t\t\treturn this.#loader;\n\t\t}\n\n\t\tthis.#loader = new BX.Loader({\n\t\t\ttarget: this.#ui.container,\n\t\t\tmode: 'inline',\n\t\t\tsize: 40\n\t\t});\n\n\t\treturn this.#loader;\n\t}\n\n\t#hideLoader(): void\n\t{\n\t\tthis.#ui.title.container.style.display = 'flex';\n\t\tthis.#ui.avatar.style.display = 'block';\n\t\tthis.#getLoader().hide();\n\t}\n\n\t#showLoader(): void\n\t{\n\t\tthis.#ui.avatar.style.display = 'none';\n\t\tthis.#ui.title.container.style.display = 'none';\n\t\tthis.#getLoader().show(this.#ui.container);\n\t}\n}\n","import { Tag, Loc, Type, Dom } from 'main.core';\nimport { EventEmitter, type BaseEvent } from 'main.core.events';\nimport { UserParty } from 'sign.v2.b2e.user-party';\nimport { Item, EntityTypes } from './item';\nimport { Api, type Role, MemberRole } from 'sign.v2.api';\nimport { DocumentSummary } from 'sign.v2.document-summary';\nimport { LangSelector } from 'sign.v2.lang-selector';\nimport type { PartiesData, DocumentData } from './type';\nimport type { DocumentSendConfig } from 'sign.v2.b2b.document-send';\nimport { Hint } from 'sign.v2.helper';\nimport { ProgressBar } from 'ui.progressbar';\nimport './style.css';\n\nexport type CommunicationType = 'idle' | 'phone' | 'email';\n\ntype CommunicationSelectedData = {\n\t[key: string]: {\n\t\tid: string,\n\t\toption: CommunicationType,\n\t}\n};\ntype Member = {\n\tpresetId: number,\n\tpart: number,\n\tuid: string,\n\trole: Role,\n};\n\nconst idleCommunication: CommunicationType = 'idle';\n\nexport class DocumentSend extends EventEmitter\n{\n\tmembers: Array<Member> | null;\n\n\t#ui = {\n\t\tcontainer: HTMLDivElement = null,\n\t\temployeesTitle: HTMLParagraphElement,\n\t};\n\n\t#communicationSelectedOption: CommunicationSelectedData = {\n\t\tcompany: {\n\t\t\tid: 'company',\n\t\t\toption: idleCommunication,\n\t\t},\n\t\temployee: {\n\t\t\tid: 'employee',\n\t\t\toption: idleCommunication,\n\t\t},\n\t\tvalidation: {\n\t\t\tid: 'validation',\n\t\t\toption: idleCommunication,\n\t\t},\n\t};\n\n\t#items = {\n\t\tcompany: Item,\n\t\trepresentative: Item,\n\t\temployees: UserParty,\n\t\treviewer: Item,\n\t\teditor: Item,\n\t};\n\n\t#partiesData: ?PartiesData = null;\n\t#documentSummary: DocumentSummary;\n\t#documentData: DocumentData;\n\t#langSelector: LangSelector;\n\t#progress: ProgressBar;\n\t#progressOverlay: ?HTMLElement;\n\t#progressContainer: ?HTMLElement;\n\t#itemsToHide: Array<HTMLElement> = [];\n\n\tconstructor(documentSendConfig: DocumentSendConfig)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Sign.V2.B2e.DocumentSend');\n\t\tthis.#items.company = new Item({ entityType: EntityTypes.Company });\n\t\tthis.#items.representative = new Item({ entityType: EntityTypes.User });\n\t\tthis.#items.reviewer = new Item({ entityType: EntityTypes.User });\n\t\tthis.#items.editor = new Item({ entityType: EntityTypes.User });\n\t\tthis.#items.employees = new UserParty({ mode: 'view' });\n\t\tthis.#documentSummary = new DocumentSummary({\n\t\t\tevents: {\n\t\t\t\tchangeTitle: (event: BaseEvent) => {\n\t\t\t\t\tconst data = event.getData();\n\t\t\t\t\tthis.#documentData.title = data.title;\n\t\t\t\t\tthis.emit('changeTitle', data);\n\t\t\t\t},\n\t\t\t\tshowEditor: (event: BaseEvent) => this.emit('showEditor'),\n\t\t\t},\n\t\t});\n\t\tconst { region, languages } = documentSendConfig;\n\t\tthis.#langSelector = new LangSelector(region, languages);\n\t\tthis.#documentData = {};\n\t\tthis.#ui.employeesTitle = Tag.render`\n\t\t\t<p class=\"sign-b2e-send__party_signing-employees\">\n\t\t\t\t${Loc.getMessage('SIGN_SEND_SIGNING_EMPLOYEES', { '#CNT#': 0 })}\n\t\t\t</p>\n\t\t`;\n\t\tthis.#progress = new ProgressBar({\n\t\t\tmaxValue: 100,\n\t\t\tvalue: 0,\n\t\t\tcolorTrack: '#dfe3e6',\n\t\t});\n\t}\n\n\tget documentData(): DocumentData\n\t{\n\t\treturn this.#documentData;\n\t}\n\n\tset documentData(documentData: DocumentData)\n\t{\n\t\tconst { uid, title, blocks, externalId } = documentData;\n\t\tthis.#documentSummary.uid = uid;\n\t\tthis.#documentSummary.title = title;\n\t\tthis.#documentSummary.blocks = blocks;\n\t\tthis.#documentSummary.setNumber(externalId);\n\t\tthis.#documentData = documentData;\n\t\tthis.#langSelector.setDocumentUid(uid);\n\t}\n\n\t#getCompanyCommunication(): CommunicationType | null\n\t{\n\t\treturn this.#communicationSelectedOption.company?.option ?? null;\n\t}\n\n\t#getValidationCommunication(): CommunicationType | null\n\t{\n\t\treturn this.#communicationSelectedOption.validation?.option ?? null;\n\t}\n\n\t#getEmployeeCommunication(): CommunicationType | null\n\t{\n\t\treturn this.#communicationSelectedOption.employee?.option ?? null;\n\t}\n\n\t#getProgressAnimateLayout(): HTMLElement\n\t{\n\t\tconst createDocumentOverlapLayout = (docsCount: number) => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"sign-b2e-overlay__overlap-docs\">\n\t\t\t\t\t${Array.from({ length: docsCount }).map(() => {\n\t\t\t\t\t\treturn Tag.render`\n\t\t\t\t\t\t\t<div class=\"sign-b2e-overlay__overlap-doc\"></div>\n\t\t\t\t\t\t`;\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t};\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"sign-b2e-overlay__animate-layout\">\n\t\t\t\t${createDocumentOverlapLayout(4)}\n\t\t\t\t${createDocumentOverlapLayout(3)}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetLayout(): HTMLElement\n\t{\n\t\tconst layout = Tag.render`\n\t\t\t<div class=\"sign-b2e-send\">\n\t\t\t\t<h1 class=\"sign-b2e-settings__header\">${Loc.getMessage('SIGN_DOCUMENT_SEND_HEADER')}</h1>\n\t\t\t</div>\n\t\t`;\n\t\tthis.#itemsToHide = [];\n\t\tconst summaryLayout = Tag.render`\n\t\t\t<div class=\"sign-b2e-settings__item\">\n\t\t\t\t<p class=\"sign-b2e-settings__item_title\">\n\t\t\t\t\t${Loc.getMessage('SIGN_DOCUMENT_SUMMARY_TITLE')}\n\t\t\t\t</p>\n\t\t\t\t${this.#documentSummary.getLayout()}\n\t\t\t\t<div class=\"sign-b2e-send__lang-selector\">\n\t\t\t\t\t${this.#langSelector.getLayout()}\n\t\t\t\t\t<span\n\t\t\t\t\t\tdata-hint=\"${Loc.getMessage('SIGN_DOCUMENT_SEND_LANG_SELECTOR_HINT')}\"\n\t\t\t\t\t></span>\n\t\t\t\t</div>\n\t\t\t\t<span class=\"sign-b2e-send__deadline\">\n\t\t\t\t\t${Loc.getMessage('SIGN_DOCUMENT_SEND_DEADLINE')}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t`;\n\t\tthis.#itemsToHide.push(summaryLayout);\n\t\tconst usersLayout = Tag.render`\n\t\t\t<div class=\"sign-b2e-settings__item\">\n\t\t\t\t<p class=\"sign-b2e-settings__item_title\">\n\t\t\t\t\t${Loc.getMessage('SIGN_DOCUMENT_SEND_SECOND_PARTY')}\n\t\t\t\t</p>\n\t\t\t\t${this.#ui.employeesTitle}\n\t\t\t\t${this.#items.employees.getLayout()}\n\t\t\t\t${this.#getCommunicationsLayout('employee')}\n\t\t\t</div>\n\t\t`;\n\t\tthis.#itemsToHide.push(usersLayout);\n\t\tconst companyLayout = Tag.render`\n\t\t\t<div class=\"sign-b2e-settings__item\">\n\t\t\t\t<p class=\"sign-b2e-settings__item_title\">\n\t\t\t\t\t${Loc.getMessage('SIGN_DOCUMENT_SEND_FIRST_PARTY')}\n\t\t\t\t</p>\n\t\t\t\t<div class=\"sign-b2e-send__company-items\">\n\t\t\t\t\t<div class=\"sign-b2e-send__company-items_flex\">\n\t\t\t\t\t\t<p class=\"sign-b2e-send__company-items_item-title\">\n\t\t\t\t\t\t\t${Loc.getMessage('SIGN_SEND_SIGNING_COMPANY')}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<span class=\"sign-b2e-send__company-items_shrunk\"></span>\n\t\t\t\t\t\t<p class=\"sign-b2e-send__company-items_item-title\">\n\t\t\t\t\t\t\t${Loc.getMessage('SIGN_SEND_SIGNING_REPRESENTATIVE')}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"sign-b2e-send__company-items_flex\">\n\t\t\t\t\t\t${this.#items.company.getLayout()}\n\t\t\t\t\t\t<span class=\"sign-b2e-send__company-items_shrunk sign-b2e-send__party-item-separator\">\n\t\t\t\t\t\t\t&#43;\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t${this.#items.representative.getLayout()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t${this.#getCommunicationsLayout('company')}\n\t\t\t</div>\n\t\t`;\n\t\tthis.#itemsToHide.push(companyLayout);\n\t\tDom.append(summaryLayout, layout);\n\t\tconst validationTitles = {\n\t\t\t[MemberRole.reviewer]: {\n\t\t\t\theader: Loc.getMessage('SIGN_SEND_SIGNING_VALIDATION_HEAD_REVIEWER'),\n\t\t\t\thint: Loc.getMessage('SIGN_SEND_SIGNING_VALIDATION_TITLE_REVIEWER'),\n\t\t\t},\n\t\t\t[MemberRole.editor]: {\n\t\t\t\theader: Loc.getMessage('SIGN_SEND_SIGNING_VALIDATION_HEAD_EDITOR'),\n\t\t\t\thint: Loc.getMessage('SIGN_SEND_SIGNING_VALIDATION_TITLE_EDITOR'),\n\t\t\t},\n\t\t};\n\t\tthis.#partiesData.validation.forEach(({ role }) => {\n\t\t\tconst { hint, header } = validationTitles[role];\n\t\t\tconst validationLayout = Tag.render`\n\t\t\t\t<div class=\"sign-b2e-settings__item\">\n\t\t\t\t\t<p class=\"sign-b2e-settings__item_title\">\n\t\t\t\t\t\t${header}\n\t\t\t\t\t</p>\n\t\t\t\t\t<div class=\"sign-b2e-send__party_item\">\n\t\t\t\t\t\t<p class=\"sign-b2e-send__company-items_item-title\">\n\t\t\t\t\t\t\t${hint}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t${this.#items[role].getLayout()}\n\t\t\t\t\t\t${this.#getCommunicationsLayout('validation')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tthis.#itemsToHide.push(validationLayout);\n\t\t\tDom.append(validationLayout, layout);\n\t\t});\n\t\tDom.append(companyLayout, layout);\n\t\tDom.append(usersLayout, layout);\n\n\t\tthis.#progressContainer = Tag.render`<div class=\"send-b2e-progress-container\"></div>`;\n\t\tthis.#progress.renderTo(this.#progressContainer);\n\t\tthis.#progressOverlay = Tag.render`\n\t\t\t<div class=\"send-b2e-overlay\">\n\t\t\t\t<div class=\"sign-b2e-overlay-content\">\n\t\t\t\t\t${this.#getProgressAnimateLayout()}\n\t\t\t\t\t<div class=\"sign-b2e-overlay-progress-title\">\n\t\t\t\t\t\t${Loc.getMessage('SIGN_SEND_PROGRESS_TITLE')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"sign-b2e-overlay-close-description\">\n\t\t\t\t\t\t${Loc.getMessage('SIGN_SEND_CLOSE_DESCRIPTION')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"ui-btn ui-btn-light-border ui-btn-round\"\n\t\t\t\t\t\t\tonclick=\"${() => this.emit('close')}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t${Loc.getMessage('SIGN_SEND_CLOSE_BTN')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t${this.#progressContainer}\n\t\t\t</div>\n\t\t`;\n\t\tthis.#progressOverlay.style.display = 'none';\n\t\tthis.emit('appendOverlay', { overlay : this.#progressOverlay });\n\t\tHint.create(layout);\n\n\t\treturn layout;\n\t}\n\n\tsetPartiesData(parties: PartiesData): DocumentSend\n\t{\n\t\tthis.#partiesData = parties;\n\n\t\tif (Type.isNumber(parties?.company?.entityId))\n\t\t{\n\t\t\tthis.#items.company.setItemData({\n\t\t\t\tentityId: parties?.company?.entityId,\n\t\t\t\tentityType: parties?.company?.entityType,\n\t\t\t});\n\t\t}\n\n\t\tif (Type.isNumber(parties?.representative?.entityId))\n\t\t{\n\t\t\tthis.#items.representative.setItemData({\n\t\t\t\tentityId: parties?.representative?.entityId,\n\t\t\t\tentityType: parties?.representative?.entityType,\n\t\t\t});\n\t\t}\n\n\t\tif (Type.isArrayFilled(parties?.employees))\n\t\t{\n\t\t\tthis.#items.employees.setUsersIds(parties?.employees.map(employee => employee.entityId));\n\t\t}\n\n\t\tif (Type.isArrayFilled(parties?.validation))\n\t\t{\n\t\t\tparties.validation.forEach((party) => {\n\t\t\t\tconst { entityId, entityType, role } = party;\n\t\t\t\tthis.#items[role].setItemData({ entityId, entityType });\n\t\t\t});\n\t\t}\n\n\t\tthis.#refreshView();\n\n\t\treturn this;\n\t}\n\n\tasync sendForSign(): Promise<boolean>\n\t{\n\t\tconst api = new Api();\n\t\tconst { uid } = this.#documentData;\n\n\t\t/*\n\t\t//disabled due absence of communication channels for b2e\n\t\tconst defaultCommunicationType = 'idle';\n\t\tconst employeeCommunicationType = this.#getEmployeeCommunication() ?? defaultCommunicationType;\n\t\tconst companyCommunicationType = this.#getCompanyCommunication() ?? defaultCommunicationType;\n\t\tconst validationCommunicationType = this.#getValidationCommunication() ?? defaultCommunicationType;\n\t\tconst assigneeMemberUid = this.members.find((member: Member) => member.role === MemberRole.assignee)?.uid;\n\t\tconst validationMembers = this.members.filter((member: Member) => {\n\t\t\treturn member.role === MemberRole.editor || member.role === MemberRole.reviewer;\n\t\t});\n\t\tconst signerMemberUids = this.members\n\t\t\t.filter((member: Member) => member.role === MemberRole.signer)\n\t\t\t.map((member: Member) => member.uid);\n\t\t */\n\t\ttry\n\t\t{\n\t\t\tthis.emit('disableBack');\n\t\t\t/*if (employeeCommunicationType === companyCommunicationType)\n\t\t\t{\n\t\t\t\tawait api.updateChannelTypeToB2eMembers(\n\t\t\t\t\t[assigneeMemberUid, ...signerMemberUids],\n\t\t\t\t\temployeeCommunicationType,\n\t\t\t\t);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tawait Promise.all([\n\t\t\t\t\tapi.updateChannelTypeToB2eMembers(signerMemberUids, employeeCommunicationType),\n\t\t\t\t\tapi.updateChannelTypeToB2eMembers([assigneeMemberUid], companyCommunicationType),\n\t\t\t\t]);\n\t\t\t}\n\n\t\t\tconst validationMembersPromises = validationMembers.map((validationMember) => {\n\t\t\t\treturn api.updateChannelTypeToB2eMembers([validationMember.uid], validationCommunicationType);\n\t\t\t});\n\t\t\tawait Promise.all(validationMembersPromises);\n*/\n\t\t\tawait api.configureDocument(uid);\n\n\t\t\tthis.#showProgressOverlay();\n\t\t\tawait this.#checkFillAndStartProgress(uid);\n\n\t\t\treturn true;\n\t\t}\n\t\tcatch (ex)\n\t\t{\n\t\t\tconsole.log(ex);\n\t\t\tthis.#hideProgressOverlay();\n\t\t\tthis.emit('enableBack');\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tasync #checkFillAndStartProgress(uid: string): Promise<void>\n\t{\n\t\tconst api = new Api();\n\t\tlet completed = false;\n\t\twhile (!completed)\n\t\t{\n\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\tconst result = await api.getDocumentFillAndStartProgress(uid);\n\t\t\tcompleted = result.completed;\n\t\t\tthis.#progress.update(Math.round(result.progress));\n\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\tawait this.#sleep(1000);\n\t\t}\n\t}\n\n\t#sleep(ms: Number): Promise\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tsetTimeout(resolve, ms);\n\t\t});\n\t}\n\n\t#refreshView(): void\n\t{\n\t\tthis.#ui.employeesTitle.innerText = Loc.getMessage(\n\t\t\t'SIGN_SEND_SIGNING_EMPLOYEES',\n\t\t\t{ '#CNT#': this.#partiesData?.employees?.length ?? 0 },\n\t\t);\n\t}\n\n\t#getCommunicationsLayout(communicationChannelId: string): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"sign-b2e-send__communications\">\n\t\t\t\t<span class=\"sign-b2e-send__communications_title\">\n\t\t\t\t\t${Loc.getMessage('SIGN_DOCUMENT_SEND_COMMUNICATION_TITLE')}\n\t\t\t\t</span>\n\t\t\t\t<div class=\"sign-b2e-send__communications_communication-type\">\n\t\t\t\t\t<span class=\"sign-b2e-send__communications_communication-type-text\">\n\t\t\t\t\t\t${Loc.getMessage('SIGN_DOCUMENT_SEND_COMMUNICATION_CHANEL_IDLE')}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tdata-hint=\"${Loc.getMessage('SIGN_DOCUMENT_SEND_COMMUNICATION_CHANEL_HINT')}\"\n\t\t\t\t\t></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#showProgressOverlay(): void\n\t{\n\t\tthis.#progress.update(0);\n\t\tthis.emit('hidePreview');\n\t\tthis.#itemsToHide.forEach((item) => Dom.hide(item));\n\t\tDom.style(this.#progressOverlay, 'display', 'flex');\n\t\tthis.emit('showOverlay');\n\t}\n\n\t#hideProgressOverlay(): void\n\t{\n\t\tthis.#itemsToHide.forEach((item) => Dom.show(item));\n\t\tthis.emit('hideOverlay');\n\t\tDom.style(this.#progressOverlay, 'display', 'none');\n\t\tthis.emit('showPreview');\n\t}\n}\n"],"names":["EntityTypes","Object","freeze","User","Company","Item","data","babelHelpers","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","writable","value","container","HTMLDivElement","avatar","title","header","footer","Api","this","getLayout","Type","isStringFilled","entityType","isInteger","entityId","_classPrivateMethodGet","key","modifier","Tag","render","loadB2eCompanyList","then","isObject","companies","isArray","company","filter","id","isBoolean","showTaxId","rqInn","Loc","getMessage","%innValue%","TextFormat","encode","_this","response","console","log","Promise","resolve","Dialog","entities","events","onLoad","event","user","getSelectedItems","lastName","customData","_user$customData","get","_user$customData2","_user$customData3","_this2","preselectedItems","load","_load3","_context","_babelHelpers$classPr2","style","backgroundImage","innerText","BX","Loader","target","mode","size","display","hide","show","DocumentSend","documentSendConfig","employeesTitle","HTMLParagraphElement","option","employee","validation","representative","employees","UserParty","reviewer","editor","setEventNamespace","DocumentSummary","changeTitle","getData","emit","showEditor","region","languages","LangSelector","#CNT#","ProgressBar","maxValue","colorTrack","layout","summaryLayout","push","usersLayout","companyLayout","Dom","append","validationTitles","MemberRole","hint","forEach","role","validationLayout","renderTo","overlay","Hint","create","parties","_parties$representati","_this3","isNumber","_parties$company","setItemData","_parties$company2","_parties$company3","_parties$representati2","_parties$representati3","isArrayFilled","setUsersIds","map","party","api","_babelHelpers$classPr","uid","configureDocument","set","documentData","blocks","externalId","setNumber","setDocumentUid","EventEmitter","createDocumentOverlapLayout","docsCount","Array","from","length","_checkFillAndStartProgress3","completed","_context2","getDocumentFillAndStartProgress","result","update","Math","round","progress","ms","setTimeout","_babelHelpers$classPr9","_babelHelpers$classPr10","communicationChannelId","item"],"mappings":"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"}