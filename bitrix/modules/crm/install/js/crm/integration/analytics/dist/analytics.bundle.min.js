this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};this.BX.Crm.Integration=this.BX.Crm.Integration||{};(function(e,t){"use strict";const s=Object.freeze({TOOL_CRM:"crm",TOOL_AI:"AI",CATEGORY_ENTITY_OPERATIONS:"entity_operations",CATEGORY_CRM_OPERATIONS:"crm_operations",EVENT_ENTITY_ADD_OPEN:"entity_add_open",EVENT_ENTITY_ADD:"entity_add",EVENT_ENTITY_UPDATE:"entity_update",EVENT_ENTITY_COPY_OPEN:"entity_copy_open",EVENT_ENTITY_COPY:"entity_copy",EVENT_ENTITY_CONVERT:"entity_convert",EVENT_ENTITY_CONVERT_BATCH:"entity_convert_batch",EVENT_ENTITY_CONVERT_OPEN:"entity_convert_open",EVENT_CALL_PARSING:"call_parsing",EVENT_AUDIO_TO_TEXT:"audio_to_text",EVENT_SUMMARY:"summary",EVENT_EXTRACT_FIELDS:"extract_fields",EVENT_CALL_ACTIVITY_WITH_AUDIO_RECORDING:"activity_call_with_audio_recording",TYPE_MANUAL:"manual",TYPE_AUTO:"auto",SECTION_CRM:"crm",SECTION_LEAD:"lead_section",SECTION_DEAL:"deal_section",SECTION_CONTACT:"contact_section",SECTION_COMPANY:"company_section",SECTION_MYCOMPANY:"my_company_section",SECTION_QUOTE:"quote_section",SECTION_SMART_INVOICE:"smart_invoice_section",SECTION_DYNAMIC:"dynamic_section",SECTION_CUSTOM:"custom_section",SECTION_SMART_DOCUMENT_CONTACT:"smart_document_contact_section",SECTION_CATALOG_CONTRACTOR_CONTACT:"catalog_contractor_contact_section",SECTION_CATALOG_CONTRACTOR_COMPANY:"catalog_contractor_company_section",SUB_SECTION_LIST:"list",SUB_SECTION_KANBAN:"kanban",SUB_SECTION_ACTIVITIES:"activities",SUB_SECTION_CALENDAR:"calendar",SUB_SECTION_DEADLINES:"deadlines",SUB_SECTION_DETAILS:"details",SUB_SECTION_DEAL:"deal",SUB_SECTION_LEAD:"lead",ELEMENT_CREATE_BUTTON:"create_button",ELEMENT_CONTROL_PANEL_CREATE_BUTTON:"control_panel_create_button",ELEMENT_QUICK_BUTTON:"quick_button",ELEMENT_SETTINGS_BUTTON:"settings_button",ELEMENT_GRID_ROW_CONTEXT_MENU:"grid_row_context_menu",ELEMENT_GRID_GROUP_ACTIONS:"grid_group_actions",ELEMENT_CONVERT_BUTTON:"convert_button",ELEMENT_TERMINATION_CONTROL:"termination_control",ELEMENT_CREATE_LINKED_ENTITY_BUTTON:"create_linked_entity_button",ELEMENT_DRAG_N_DROP:"drag_n_drop",ELEMENT_FILL_REQUIRED_FIELDS_POPUP:"fill_required_fields_popup",ELEMENT_CRM_MODE_CHANGE_POPUP:"crm_mode_change_popup",ELEMENT_COPILOT_BUTTON:"copilot_button",ELEMENT_FEEDBACK_SEND:"feedback_send",ELEMENT_FEEDBACK_REFUSED:"feedback_refused",ELEMENT_CONFLICT_ACCEPT_CHANGES:"conflict_accept_changes",ELEMENT_CONFLICT_CANCEL_CHANGES:"conflict_cancel_changes",STATUS_ATTEMPT:"attempt",STATUS_SUCCESS:"success",STATUS_ERROR:"error",STATUS_CANCEL:"cancel",STATUS_SUCCESS_FIELDS:"success_fields",STATUS_SUCCESS_COMMENT:"success_comment_only",STATUS_ERROR_NO_LIMITS:"error_no_limits",STATUS_ERROR_AGREEMENT:"error_agreement",STATUS_ERROR_LIMIT_DAILY:"error_limit_daily",STATUS_ERROR_LIMIT_MONTHLY:"error_limit_monthly",STATUS_ERROR_PROVIDER:"error_provider",STATUS_ERROR_B24:"error_b24"});let i=null;function a(e){let s=null;if(BX.CrmEntityType.isDefined(e)){s=BX.CrmEntityType.resolveName(e)}else if(BX.CrmEntityType.isDefinedByName(e)){s=e}if(!t.Type.isStringFilled(s)){return null}if(BX.CrmEntityType.isDynamicTypeByName(s)){return"dynamic"}return s.toLowerCase()}function r(){if(!i){i=t.Extension.getSettings("crm.integration.analytics")}return`crmMode_${i.get("crmMode","").toLowerCase()}`}function l(e){const s={};Object.entries(e).forEach((([e,i])=>{if(!t.Type.isNil(i)){s[e]=i}}));return s}var o=babelHelpers.classPrivateFieldLooseKey("entityType");var n=babelHelpers.classPrivateFieldLooseKey("type");var c=babelHelpers.classPrivateFieldLooseKey("element");var _=babelHelpers.classPrivateFieldLooseKey("activityId");var E=babelHelpers.classPrivateFieldLooseKey("activityDirection");var T=babelHelpers.classPrivateFieldLooseKey("status");class b{constructor(){Object.defineProperty(this,o,{writable:true,value:void 0});Object.defineProperty(this,n,{writable:true,value:s.TYPE_MANUAL});Object.defineProperty(this,c,{writable:true,value:void 0});Object.defineProperty(this,_,{writable:true,value:void 0});Object.defineProperty(this,E,{writable:true,value:void 0});Object.defineProperty(this,T,{writable:true,value:void 0})}static createDefault(e,s,i){const a=new b;babelHelpers.classPrivateFieldLooseBase(a,o)[o]=e;babelHelpers.classPrivateFieldLooseBase(a,_)[_]=t.Text.toInteger(s);babelHelpers.classPrivateFieldLooseBase(a,T)[T]=i;return a}setType(e){babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e;return this}setElement(e){babelHelpers.classPrivateFieldLooseBase(this,c)[c]=e;return this}setActivityDirection(e){babelHelpers.classPrivateFieldLooseBase(this,E)[E]=e;return this}buildData(){const e=a(babelHelpers.classPrivateFieldLooseBase(this,o)[o]);if(!e){console.error("crm.integration.analytics: Unknown entity type");return null}if(babelHelpers.classPrivateFieldLooseBase(this,_)[_]<=0){console.error("crm.integration.analytics: invalid activity id");return null}if(babelHelpers.classPrivateFieldLooseBase(this,E)[E]!=="incoming"&&babelHelpers.classPrivateFieldLooseBase(this,E)[E]!=="outgoing"){console.error("crm.integration.analytics: invalid activity direction",babelHelpers.classPrivateFieldLooseBase(this,E)[E]);return null}return l({tool:s.TOOL_AI,category:s.CATEGORY_CRM_OPERATIONS,event:s.EVENT_CALL_PARSING,type:babelHelpers.classPrivateFieldLooseBase(this,n)[n],c_section:s.SECTION_CRM,c_sub_section:e,c_element:babelHelpers.classPrivateFieldLooseBase(this,c)[c],status:babelHelpers.classPrivateFieldLooseBase(this,T)[T],p1:r(),p2:`callDirection_${babelHelpers.classPrivateFieldLooseBase(this,E)[E]}`,p5:`idCall_${babelHelpers.classPrivateFieldLooseBase(this,_)[_]}`})}}var d=babelHelpers.classPrivateFieldLooseKey("entityType");var v=babelHelpers.classPrivateFieldLooseKey("subSection");var u=babelHelpers.classPrivateFieldLooseKey("element");class O{constructor(){Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0})}static createDefault(e){const t=new O;babelHelpers.classPrivateFieldLooseBase(t,d)[d]=e;return t}setSubSection(e){babelHelpers.classPrivateFieldLooseBase(this,v)[v]=e;return this}setElement(e){babelHelpers.classPrivateFieldLooseBase(this,u)[u]=e;return this}buildData(){const e=a(babelHelpers.classPrivateFieldLooseBase(this,d)[d]);if(!e){console.error("crm.integration.analytics: Unknown entity type");return null}return l({tool:s.TOOL_CRM,category:s.CATEGORY_ENTITY_OPERATIONS,event:s.EVENT_ENTITY_ADD,type:e,c_section:`${e}_section`,c_sub_section:babelHelpers.classPrivateFieldLooseBase(this,v)[v],c_element:babelHelpers.classPrivateFieldLooseBase(this,u)[u],p1:r()})}}var N=babelHelpers.classPrivateFieldLooseKey("srcEntityType");var p=babelHelpers.classPrivateFieldLooseKey("dstEntityType");var L=babelHelpers.classPrivateFieldLooseKey("section");var C=babelHelpers.classPrivateFieldLooseKey("subSection");var y=babelHelpers.classPrivateFieldLooseKey("element");var P=babelHelpers.classPrivateFieldLooseKey("status");class S{constructor(){Object.defineProperty(this,N,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,C,{writable:true,value:void 0});Object.defineProperty(this,y,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0})}static createDefault(e,t){const s=new S;babelHelpers.classPrivateFieldLooseBase(s,N)[N]=e;babelHelpers.classPrivateFieldLooseBase(s,p)[p]=t;return s}setSection(e){babelHelpers.classPrivateFieldLooseBase(this,L)[L]=e;return this}setSubSection(e){babelHelpers.classPrivateFieldLooseBase(this,C)[C]=e;return this}setElement(e){babelHelpers.classPrivateFieldLooseBase(this,y)[y]=e;return this}setStatus(e){babelHelpers.classPrivateFieldLooseBase(this,P)[P]=e;return this}buildData(){const e=a(babelHelpers.classPrivateFieldLooseBase(this,N)[N]);const i=a(babelHelpers.classPrivateFieldLooseBase(this,p)[p]);if(!e||!i){console.error("crm.integration.analytics: Unknown entity type");return null}return l({tool:s.TOOL_CRM,category:s.CATEGORY_ENTITY_OPERATIONS,event:s.EVENT_ENTITY_CONVERT_BATCH,type:i,c_section:babelHelpers.classPrivateFieldLooseBase(this,L)[L],c_sub_section:babelHelpers.classPrivateFieldLooseBase(this,C)[C],c_element:babelHelpers.classPrivateFieldLooseBase(this,y)[y],status:babelHelpers.classPrivateFieldLooseBase(this,P)[P],p1:r(),p2:`from_${t.Text.toCamelCase(e)}`})}}var A=babelHelpers.classPrivateFieldLooseKey("srcEntityType");var I=babelHelpers.classPrivateFieldLooseKey("dstEntityType");var h=babelHelpers.classPrivateFieldLooseKey("subSection");var B=babelHelpers.classPrivateFieldLooseKey("element");var R=babelHelpers.classPrivateFieldLooseKey("status");class F{constructor(){Object.defineProperty(this,A,{writable:true,value:void 0});Object.defineProperty(this,I,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,B,{writable:true,value:void 0});Object.defineProperty(this,R,{writable:true,value:void 0})}static createDefault(e,t){const s=new F;babelHelpers.classPrivateFieldLooseBase(s,A)[A]=e;babelHelpers.classPrivateFieldLooseBase(s,I)[I]=t;return s}setSubSection(e){babelHelpers.classPrivateFieldLooseBase(this,h)[h]=e;return this}setElement(e){babelHelpers.classPrivateFieldLooseBase(this,B)[B]=e;return this}setStatus(e){babelHelpers.classPrivateFieldLooseBase(this,R)[R]=e;return this}buildData(){const e=a(babelHelpers.classPrivateFieldLooseBase(this,A)[A]);const i=a(babelHelpers.classPrivateFieldLooseBase(this,I)[I]);if(!e||!i){console.error("crm.integration.analytics: Unknown entity type");return null}return l({tool:s.TOOL_CRM,category:s.CATEGORY_ENTITY_OPERATIONS,event:s.EVENT_ENTITY_CONVERT,type:i,c_section:`${e}_section`,c_sub_section:babelHelpers.classPrivateFieldLooseBase(this,h)[h],c_element:babelHelpers.classPrivateFieldLooseBase(this,B)[B],status:babelHelpers.classPrivateFieldLooseBase(this,R)[R],p1:r(),p2:`from_${t.Text.toCamelCase(e)}`})}}const H=Object.freeze({Entity:{AddEvent:O,ConvertEvent:F,ConvertBatchEvent:S},AI:{CallParsingEvent:b}});e.Builder=H;e.Dictionary=s})(this.BX.Crm.Integration.Analytics=this.BX.Crm.Integration.Analytics||{},BX);
//# sourceMappingURL=analytics.bundle.map.js