{"version":3,"file":"editor.map.js","names":["BX","namespace","Crm","EntityEditor","superclass","constructor","apply","this","_entityTypeId","_dupControlManager","_bizprocManager","_attributeManager","_afterFormSubmitHandler","delegate","onAfterFormSubmit","_cancelFormSubmitHandler","onCancelFormSubmit","_haslayout","_enableCommunicationControls","_enableExternalLayoutResolvers","_showEmptyFields","_modeChangeNotifier","_controlChangeNotifier","_entityCreateHandler","onCreateHandler","_entityUpdateHandler","onEntityUpdate","_toolbarMenuBuildHandler","onInterfaceToolbarMenuBuild","_configurationManagerInitializeHandler","onConfigurationManagerInitialize","_helpWrapper","eventsNamespace","pageTitleInputClassName","extend","UI","prototype","initialize","id","settings","CrmNotifier","create","_settings","prop","getInteger","_entityTypeName","CrmEntityType","resolveName","_createSectionButton","get","_configMenuButton","getBoolean","_personalViewAllowed","notify","type","isElementNode","_container","initializeManagers","addCustomEvent","duplicateControlConfig","getObject","hasOwnProperty","_ajaxForm","EntityEditorDupManager","_id","toLowerCase","_editor","_restPlacementTabManager","attachToEvents","window","deattachFromEvents","removeCustomEvent","editor","eventArgs","configurationFieldManager","EntityConfigurationManager","initializeControlsEditMode","i","length","control","_controls","priority","getEditPriority","EntityEditorPriority","high","setMode","EntityEditorMode","edit","getActiveControlCount","release","_dragContainerController","removeDragFinishListener","_dropHandler","_controllers","clone","params","wrapper","getString","util","getRandomString","container","props","className","appendChild","eventParams","sender","EntityEvent","fireCreate","_entityId","_externalContextId","makeLocalStorageSafeObject","fireUpdate","_isReleased","data","_model","setData","enableNotification","adjustTitle","adjustSize","refreshLayout","reset","object","localStorageSafeObject","Object","entries","forEach","key","value","isClassInstance","Type","isObject","isPlainObject","getEntityTypeForAction","resolveAbbreviation","initializeAjaxForm","getAjaxFormConfigData","ACTION_ENTITY_TYPE","ACTION_ENTITY_ID","releaseAjaxForm","getEntityTypeId","getModel","isPersistent","getIntegerField","isNeedToDisplayEmptyFields","areCommunicationControlsEnabled","getEntityCreateUrl","entityTypeName","names","contact","company","getEntityEditUrl","entityId","url","replace","getEntityRequisiteSelectUrl","getRequisiteEditUrl","getBizprocManager","getAttributeManager","getAttributeManagerSettings","EntityFieldAttributeManager","entityTypeId","entityScope","isPermitted","isPhaseDependent","isAttrConfigButtonHidden","lockScript","captions","entityPhases","getArray","registerActiveControl","index","getActiveControlIndex","mode","_mode","unregisterActiveControl","view","_activeControls","createControl","controlId","_serviceUrl","_formElement","EntityEditorControlFactory","releaseActiveControls","options","processControlChange","_enableCloseConfirmation","processControlRemove","EntityEditorField","EntityEditorSubsection","addAvailableSchemeElement","getSchemeElement","EntityEditorSection","children","getChildren","createController","EntityEditorControllerFactory","config","model","processControllerChange","controller","tapController","controllerId","callback","isNotEmptyString","isFunction","call","hasLayout","layout","cancel","onCustomEvent","prepareContextDataLayout","_context","_toolPanel","isSectionCreationEnabled","bind","onCreateSectionButtonClick","style","display","onConfigMenuButtonClick","enableInlineEditSpotlight","userFieldLoaders","EntityUserFieldLayoutLoader","enableBatchMode","owner","getMode","layoutOptions","userFieldLoader","getName","enableFocusGain","_isEmbedded","isReadOnly","text","getMessage","ufLoadeerPromises","push","runBatch","Promise","all","then","showToolPanel","isCaptionEditable","_pageTitle","onPageTileClick","_editPageTitleButton","isEnabled","isSingleMode","search","_enableBottomPanel","_buttonContainer","adjustButtons","_enablePageTitleControls","document","title","getCaption","trim","getClass","SidePanel","Instance","updateBrowserTitle","parentNode","addClass","_config","isScopeToggleEnabled","lastSection","sectionControls","lastSectionControl","ensureButtonPanelWrapperCreated","getScope","EntityConfigScope","common","events","click","addModeChangeListener","listener","addListener","removeModeChangeListener","removeListener","addControlChangeListener","removeControlChangeListener","validate","result","validator","EntityAsyncValidator","addResult","_userFieldManager","getActionEventArguments","eventArguments","closeSearchSummary","dupControlManager","getDuplicateManager","_controller","_closeSearchSummary","innerCancel","_isNew","processSchemeChange","onSaveSuccess","prepareEventParams","entityInfo","_isRequestRunning","setLocked","isDuplicateControlEnabled","onDrop","dragContainer","draggedItem","x","y","processDraggedItemDrop","canCreateContact","canCreateCompany","addHelpLink","append","link","href","helpUrl","target","e","top","Helper","show","preventDefault","name","message","m","messages","getGlobalEventName","eventName","aliases","onEntityCreateError","onEntityUpdateError","onEntityCreate","beforeEntityRedirect","prepareConfigMenuItems","items","filter","obj","defaultInstance","setDefault","instance","getDefault","self","getId","EntityEditorScopeConfig","EntityEditorModeQueue","EntityEditorModeSwitch","EntityEditorVisibilityPolicy"],"sources":["editor.js"],"mappings":"AACAA,GAAGC,UAAU,UAGb,UAAUD,GAAGE,IAAIC,eAAiB,YAClC,CAKCH,GAAGE,IAAIC,aAAe,WAErBH,GAAGE,IAAIC,aAAaC,WAAWC,YAAYC,MAAMC,MAEjDA,KAAKC,cAAgB,EAErBD,KAAKE,mBAAqB,KAC1BF,KAAKG,gBAAkB,KACvBH,KAAKI,kBAAoB,KAEzBJ,KAAKK,wBAA0BZ,GAAGa,SAASN,KAAKO,kBAAmBP,MACnEA,KAAKQ,yBAA2Bf,GAAGa,SAASN,KAAKS,mBAAoBT,MAErEA,KAAKU,WAAa,MAElBV,KAAKW,6BAA+B,KACpCX,KAAKY,+BAAiC,MACtCZ,KAAKa,iBAAmB,MAExBb,KAAKc,oBAAsB,KAC3Bd,KAAKe,uBAAyB,KAE9Bf,KAAKgB,qBAAuBvB,GAAGa,SAASN,KAAKiB,gBAAiBjB,MAC9DA,KAAKkB,qBAAuBzB,GAAGa,SAASN,KAAKmB,eAAgBnB,MAC7DA,KAAKoB,yBAA2B3B,GAAGa,SAASN,KAAKqB,4BAA6BrB,MAC9EA,KAAKsB,uCAAyC7B,GAAGa,SAASN,KAAKuB,iCAAkCvB,MAEjGA,KAAKwB,aAAe,KACpBxB,KAAKyB,gBAAkB,sBACvBzB,KAAK0B,wBAA0B,mCAChC,EAEAjC,GAAGkC,OAAOlC,GAAGE,IAAIC,aAAcH,GAAGmC,GAAGhC,cAErCH,GAAGE,IAAIC,aAAaiC,UAAUC,WAAa,SAASC,EAAIC,GAEvDhC,KAAKe,uBAAyBtB,GAAGwC,YAAYC,OAAOlC,MACpDA,KAAKc,oBAAsBrB,GAAGwC,YAAYC,OAAOlC,MAEjDA,KAAKmC,UAAYH,EAAWA,EAAW,CAAC,EAExChC,KAAKC,cAAgBR,GAAG2C,KAAKC,WAAWrC,KAAKmC,UAAW,eAAgB,GACxEnC,KAAKsC,gBAAkB7C,GAAG8C,cAAcC,YAAYxC,KAAKC,eAEzDD,KAAKyC,qBAAuBhD,GAAGA,GAAG2C,KAAKM,IAAI1C,KAAKmC,UAAW,0BAC3DnC,KAAK2C,kBAAoBlD,GAAGA,GAAG2C,KAAKM,IAAI1C,KAAKmC,UAAW,uBAExDnC,KAAKW,6BAA+BlB,GAAG2C,KAAKQ,WAAW5C,KAAKmC,UAAW,8BAA+B,MAEtGnC,KAAKY,+BAAiCnB,GAAG2C,KAAKQ,WAAW5C,KAAKmC,UAAW,gCAAiC,OAC1GnC,KAAKa,iBAAmBpB,GAAG2C,KAAKQ,WAAW5C,KAAKmC,UAAW,kBAAmB,OAC9EnC,KAAK6C,qBAAuBpD,GAAG2C,KAAKQ,WAAW5C,KAAKmC,UAAW,sBAAuB,MAEtF1C,GAAGE,IAAIC,aAAaC,WAAWiC,WAAW/B,MAAMC,KAAM,CAAC+B,EAAIC,IAE3DhC,KAAKc,oBAAoBgC,OAAO,CAAE9C,OAElC,IAAIP,GAAGsD,KAAKC,cAAchD,KAAKiD,YAC/B,CACC,MAAMjD,KAAKyB,gBAAkB,8CAC9B,CACD,EAEAhC,GAAGE,IAAIC,aAAaiC,UAAUqB,mBAAqB,WAElDzD,GAAG0D,eAAe,gDAAiDnD,KAAKsB,wCAExE7B,GAAGE,IAAIC,aAAaC,WAAWqD,mBAAmBnD,MAAMC,MAGxD,IAAIoD,EAAyB3D,GAAG2C,KAAKiB,UAAUrD,KAAKmC,UAAW,mBAAoB,CAAC,GACpF,IAAKiB,EAAuBE,eAAe,SAAWtD,KAAKuD,UAC3D,CACCH,EAAuB,QAAUpD,KAAKuD,SACvC,CAEAvD,KAAKE,mBAAqBT,GAAGE,IAAI6D,uBAAuBtB,OACvDlC,KAAKyD,IAAIC,cAAgB,OACzBN,GAIDpD,KAAKG,gBAAkBV,GAAG2C,KAAKM,IAAI1C,KAAKmC,UAAW,iBAAkB,MACrE,GAAGnC,KAAKG,gBACR,CACCH,KAAKG,gBAAgBwD,QAAU3D,IAChC,CAEAA,KAAK4D,yBAA2BnE,GAAG2C,KAAKM,IAAI1C,KAAKmC,UAAW,0BAA2B,MACvF,GAAGnC,KAAK4D,yBACR,CACC5D,KAAK4D,yBAAyBD,QAAU3D,IACzC,CACD,EACAP,GAAGE,IAAIC,aAAaiC,UAAUgC,eAAiB,WAE9CpE,GAAGE,IAAIC,aAAaC,WAAWgE,eAAe9D,MAAMC,MAEpDP,GAAG0D,eACFW,OACA,iCACA9D,KAAKoB,0BAGN3B,GAAG0D,eAAe,oBAAqBnD,KAAKgB,sBAC5CvB,GAAG0D,eAAe,oBAAqBnD,KAAKkB,qBAC7C,EACAzB,GAAGE,IAAIC,aAAaiC,UAAUkC,mBAAqB,WAElDtE,GAAGE,IAAIC,aAAaC,WAAWkE,mBAAmBhE,MAAMC,MAExDP,GAAGuE,kBACFF,OACA,iCACA9D,KAAKoB,0BAEN3B,GAAGuE,kBAAkB,oBAAqBhE,KAAKgB,sBAC/CvB,GAAGuE,kBAAkB,oBAAqBhE,KAAKkB,sBAC/CzB,GAAGuE,kBAAkB,gDAAiDhE,KAAKsB,uCAC5E,EACA7B,GAAGE,IAAIC,aAAaiC,UAAUN,iCAAmC,SAAS0C,EAAQC,GACjF,GAAGA,EAAUnB,OAAS,SACtB,CACCmB,EAAUC,0BAA4B1E,GAAGE,IAAIyE,2BAA2BlC,OACvElC,KAAKyD,IACL,CAAEQ,OAAQjE,MAEZ,CACD,EACAP,GAAGE,IAAIC,aAAaiC,UAAUwC,2BAA6B,WAE1D,IAAIC,EAAGC,EAAQC,EACf,IAAIF,EAAI,EAAGC,EAASvE,KAAKyE,UAAUF,OAAQD,EAAIC,EAAQD,IACvD,CACCE,EAAUxE,KAAKyE,UAAUH,GAEzB,IAAII,EAAWF,EAAQG,kBACvB,GAAGD,IAAajF,GAAGmC,GAAGgD,qBAAqBC,KAC3C,CACCL,EAAQM,QAAQrF,GAAGmC,GAAGmD,iBAAiBC,KAAM,CAAElC,OAAQ,OACxD,CACD,CAEA,GAAG9C,KAAKiF,0BAA4B,EACpC,CACCjF,KAAKyE,UAAU,GAAGK,QAAQrF,GAAGmC,GAAGmD,iBAAiBC,KAAM,CAAElC,OAAQ,OAClE,CACD,EACArD,GAAGE,IAAIC,aAAaiC,UAAUqD,QAAU,WAEvCzF,GAAGE,IAAIC,aAAaC,WAAWqF,QAAQnF,MAAMC,MAE7C,GAAGA,KAAKmF,yBACR,CACCnF,KAAKmF,yBAAyBC,yBAAyBpF,KAAKqF,cAC5DrF,KAAKmF,yBAAyBD,UAC9BlF,KAAKmF,yBAA2B,IACjC,CAEA,IAAIb,EAAGC,EACP,IAAID,EAAI,EAAGC,EAASvE,KAAKsF,aAAaf,OAAQD,EAAIC,EAAQD,IAC1D,CACCtE,KAAKsF,aAAahB,GAAGY,SACtB,CAEAlF,KAAKU,WAAa,KACnB,EACAjB,GAAGE,IAAIC,aAAaiC,UAAU0D,MAAQ,SAASC,GAG9C,IAAIC,EAAUhG,GAAGA,GAAG2C,KAAKM,IAAI8C,EAAQ,YACrC,IAAI/F,GAAGsD,KAAKC,cAAcyC,GAC1B,CACC,MAAMzF,KAAKyB,gBAAkB,mCAC9B,CAEA,IAAIM,EAAKtC,GAAG2C,KAAKsD,UAAUF,EAAQ,KAAM,IACzC,GAAGzD,IAAO,GACV,CACCA,EAAKtC,GAAGkG,KAAKC,gBAAgB,EAC9B,CAEA,IAAIC,EAAYpG,GAAGyC,OAClB,MACA,CACC4D,MAAO,CAAE/D,GAAIA,EAAG2B,cAAgB,aAAeqC,UAAW,uCAG5DN,EAAQO,YAAYH,GAEpB,IAAI7D,EAAWvC,GAAG8F,MAAMvF,KAAKmC,kBACtBH,EAAS,eAChBA,EAAS,aAAe6D,EAExB,OAAOpG,GAAGE,IAAIC,aAAasC,OAAOH,EAAIC,EACvC,EACAvC,GAAGE,IAAIC,aAAaiC,UAAUZ,gBAAkB,SAASgF,GAExD,GAAIA,EAAYC,SAAWlG,KAC3B,CAECP,GAAGE,IAAIwG,YAAYC,WAClBpG,KAAKC,cACLD,KAAKqG,UACLrG,KAAKsG,mBACLtG,KAAKuG,2BAA2BN,GAElC,CACD,EACAxG,GAAGE,IAAIC,aAAaiC,UAAUV,eAAiB,SAAS8E,GAEvD,GAAIA,EAAYC,SAAWlG,KAC3B,CAECP,GAAGE,IAAIwG,YAAYK,WAClBxG,KAAKC,cACLD,KAAKqG,UACLrG,KAAKsG,mBACLtG,KAAKuG,2BAA2BN,GAElC,CAEA,GAAGjG,KAAKyG,YACR,CACC,MACD,CAEA,GAAGzG,KAAKC,gBAAkBR,GAAG2C,KAAKC,WAAW4D,EAAa,eAAgB,IACtEjG,KAAKqG,YAAc5G,GAAG2C,KAAKC,WAAW4D,EAAa,WAAY,IAC/DjG,OAASP,GAAG2C,KAAKM,IAAIuD,EAAa,SAAU,GAEhD,CACC,IAAIS,EAAOjH,GAAG2C,KAAKiB,UAAU4C,EAAa,aAAc,MACxD,GAAGS,EACH,CACC1G,KAAK2G,OAAOC,QAAQF,EAAM,CAAEG,mBAAoB,QAEhD7G,KAAK8G,cACL9G,KAAK+G,aAEL/G,KAAKgH,cAAc,CAAEC,MAAO,MAC7B,CACD,CACD,EAIAxH,GAAGE,IAAIC,aAAaiC,UAAU0E,2BAA6B,SAASW,GAEnE,MAAMC,EAAyB,CAAC,EAChCC,OAAOC,QAAQH,GAAQI,SAAQ,EAAEC,EAAKC,MACrC,MAAMC,EAAkBhI,GAAGiI,KAAKC,SAASH,KAAW/H,GAAGiI,KAAKE,cAAcJ,GAC1E,IAAKC,EACL,CACCN,EAAuBI,GAAOC,CAC/B,KAGD,OAAOL,CACR,EACA1H,GAAGE,IAAIC,aAAaiC,UAAUgG,uBAAyB,WAEtD,OAAOpI,GAAG8C,cAAcuF,oBAAoB9H,KAAKsC,gBAClD,EACA7C,GAAGE,IAAIC,aAAaiC,UAAUkG,mBAAqB,WAElDtI,GAAGE,IAAIC,aAAaC,WAAWkI,mBAAmBhI,MAAMC,MACxDP,GAAG0D,eAAenD,KAAKuD,UAAW,gBAAiBvD,KAAKK,yBACxDZ,GAAG0D,eAAenD,KAAKuD,UAAW,iBAAkBvD,KAAKQ,yBAC1D,EACAf,GAAGE,IAAIC,aAAaiC,UAAUmG,sBAAwB,WAErD,MAAO,CACNC,mBAAsBjI,KAAK6H,yBAC3BK,iBAAoBlI,KAAKqG,UAE3B,EACA5G,GAAGE,IAAIC,aAAaiC,UAAUsG,gBAAkB,WAE/C1I,GAAGE,IAAIC,aAAaC,WAAWsI,gBAAgBpI,MAAMC,MACrDP,GAAGuE,kBAAkBhE,KAAKuD,UAAW,iBAAkBvD,KAAKQ,yBAC7D,EACAf,GAAGE,IAAIC,aAAaiC,UAAUuG,gBAAkB,WAE/C,OAAOpI,KAAKC,aACb,EACAR,GAAGE,IAAIC,aAAaiC,UAAUwG,SAAW,WAExC,OAAOrI,KAAK2G,MACb,EACAlH,GAAGE,IAAIC,aAAaiC,UAAUyG,aAAe,WAE5C,OAAOtI,KAAKqG,UAAY,GAAKrG,KAAKqG,YAAcrG,KAAK2G,OAAO4B,gBAAgB,KAAM,EACnF,EACA9I,GAAGE,IAAIC,aAAaiC,UAAU2G,2BAA6B,WAE1D,OAAOxI,KAAKa,gBACb,EACApB,GAAGE,IAAIC,aAAaiC,UAAU4G,gCAAkC,WAE/D,OAAOzI,KAAKW,4BACb,EACAlB,GAAGE,IAAIC,aAAaiC,UAAU6G,mBAAqB,SAASC,GAE3D,GAAGA,IAAmBlJ,GAAG8C,cAAcqG,MAAMC,QAC7C,CACC,OAAOpJ,GAAG2C,KAAKsD,UAAU1F,KAAKmC,UAAW,mBAAoB,GAC9D,MACK,GAAGwG,IAAmBlJ,GAAG8C,cAAcqG,MAAME,QAClD,CACC,OAAOrJ,GAAG2C,KAAKsD,UAAU1F,KAAKmC,UAAW,mBAAoB,GAC9D,CACA,MAAO,EACR,EACA1C,GAAGE,IAAIC,aAAaiC,UAAUkH,iBAAmB,SAASJ,EAAgBK,GAEzE,IAAIC,EAAM,GACV,GAAGN,IAAmBlJ,GAAG8C,cAAcqG,MAAMC,QAC7C,CACCI,EAAMxJ,GAAG2C,KAAKsD,UAAU1F,KAAKmC,UAAW,iBAAkB,GAC3D,MACK,GAAGwG,IAAmBlJ,GAAG8C,cAAcqG,MAAME,QAClD,CACCG,EAAMxJ,GAAG2C,KAAKsD,UAAU1F,KAAKmC,UAAW,iBAAkB,GAC3D,CAEA,GAAG8G,IAAQ,GACX,CACCA,EAAMA,EAAIC,QAAQ,OAAQF,EAAU,KACrC,CAEA,OAAOC,CACR,EACAxJ,GAAGE,IAAIC,aAAaiC,UAAUsH,4BAA8B,SAASR,EAAgBK,GAEpF,IAAIC,EAAM,GACV,GAAGN,IAAmBlJ,GAAG8C,cAAcqG,MAAMC,QAC7C,CACCI,EAAMxJ,GAAG2C,KAAKsD,UAAU1F,KAAKmC,UAAW,4BAA6B,IAAI+G,QAAQ,iBAAkBF,EACpG,MACK,GAAGL,IAAmBlJ,GAAG8C,cAAcqG,MAAME,QAClD,CACCG,EAAMxJ,GAAG2C,KAAKsD,UAAU1F,KAAKmC,UAAW,4BAA6B,IAAI+G,QAAQ,iBAAkBF,EACpG,CACA,OAAOC,CACR,EACAxJ,GAAGE,IAAIC,aAAaiC,UAAUuH,oBAAsB,SAASrH,GAE5D,OAAOtC,GAAG2C,KAAKsD,UAAU1F,KAAKmC,UAAW,mBAAoB,IAAI+G,QAAQ,mBAAoBnH,EAC9F,EACAtC,GAAGE,IAAIC,aAAaiC,UAAUwH,kBAAoB,WAEjD,OAAOrJ,KAAKG,eACb,EACAV,GAAGE,IAAIC,aAAaiC,UAAUyH,oBAAsB,WAEnD,IAAItJ,KAAKI,kBACT,CACC,IAAI4B,EAAWhC,KAAKuJ,8BACpB,GAAGvH,EACH,CACChC,KAAKI,kBAAoBX,GAAGE,IAAI6J,4BAA4BtH,OAC3DlC,KAAKyD,IACL,CACCgG,aAAczJ,KAAKoI,kBACnBsB,YAAajK,GAAG2C,KAAKsD,UAAU1D,EAAU,eAAgB,IACzD2H,YAAalK,GAAG2C,KAAKQ,WAAWZ,EAAU,eAAgB,MACzD4H,iBAAkBnK,GAAG2C,KAAKQ,WAAWZ,EAAU,qBAAsB,MACrE6H,yBAA0BpK,GAAG2C,KAAKQ,WACjCZ,EAAU,+BAAgC,MAE5C8H,WAAYrK,GAAG2C,KAAKsD,UAAU1D,EAAU,cAAe,IACvD+H,SAAUtK,GAAG2C,KAAKiB,UAAUrB,EAAU,WAAY,CAAC,GACnDgI,aAAcvK,GAAG2C,KAAK6H,SAASjI,EAAU,gBAAiB,OAG7D,CACD,CACA,OAAOhC,KAAKI,iBACb,EACAX,GAAGE,IAAIC,aAAaiC,UAAUqI,sBAAwB,SAAS1F,GAE9D,IAAI2F,EAAQnK,KAAKoK,sBAAsB5F,GACvC,GAAG2F,GAAS,EACZ,CACC,MACD,CAEA,IAAIE,EAAOrK,KAAKsK,MAChB7K,GAAGE,IAAIC,aAAaC,WAAWqK,sBAAsBnK,MAAMC,KAAM,CAACwE,IAElE,GAAG6F,IAAS5K,GAAGmC,GAAGmD,iBAAiBC,MAAQhF,KAAKsK,QAAU7K,GAAGmC,GAAGmD,iBAAiBC,KACjF,CACChF,KAAKc,oBAAoBgC,OAAO,CAAE9C,MACnC,CACD,EACAP,GAAGE,IAAIC,aAAaiC,UAAU0I,wBAA0B,SAAS/F,GAEhE,IAAI2F,EAAQnK,KAAKoK,sBAAsB5F,GACvC,GAAG2F,EAAQ,EACX,CACC,MACD,CACA,IAAIE,EAAOrK,KAAKsK,MAChB7K,GAAGE,IAAIC,aAAaC,WAAW0K,wBAAwBxK,MAAMC,KAAM,CAACwE,IAEpE,GAAG6F,IAAS5K,GAAGmC,GAAGmD,iBAAiByF,MAAQxK,KAAKyK,gBAAgBlG,SAAW,GAAKvE,KAAKsK,QAAU7K,GAAGmC,GAAGmD,iBAAiByF,KACtH,CACCxK,KAAKc,oBAAoBgC,OAAO,CAAE9C,MACnC,CACD,EACAP,GAAGE,IAAIC,aAAaiC,UAAU6I,cAAgB,SAAS3H,EAAM4H,EAAW3I,GAEvEA,EAAS,cAAgBhC,KAAK4K,YAC9B5I,EAAS,aAAehC,KAAK6K,aAC7B7I,EAAS,SAAWhC,KAAK2G,OACzB3E,EAAS,UAAYhC,KAErB,OAAOP,GAAGE,IAAImL,2BAA2B5I,OAAOa,EAAM4H,EAAW3I,EAClE,EACAvC,GAAGE,IAAIC,aAAaiC,UAAUkJ,sBAAwB,SAASC,GAE9D,IAAIX,EAAOrK,KAAKsK,MAChB7K,GAAGE,IAAIC,aAAaC,WAAWkL,sBAAsBhL,MAAMC,KAAM,CAACgL,IAClE,GAAGhL,KAAKsK,QAAU7K,GAAGmC,GAAGmD,iBAAiByF,OAASxK,KAAKiF,wBACvD,CACCjF,KAAKsK,MAAQ7K,GAAGmC,GAAGmD,iBAAiByF,IACrC,CACA,GAAGH,IAASrK,KAAKsK,MACjB,CACCtK,KAAKc,oBAAoBgC,OAAO,CAAE9C,MACnC,CACD,EAEAP,GAAGE,IAAIC,aAAaiC,UAAUoJ,qBAAuB,SAASzG,EAASgB,GAEtExF,KAAKkL,yBAA2B,KAEhCzL,GAAGE,IAAIC,aAAaC,WAAWoL,qBAAqBlL,MAAMC,KAAM,CAACwE,EAASgB,IAC1ExF,KAAKe,uBAAuB+B,OAAO,CAAE0C,GACtC,EACA/F,GAAGE,IAAIC,aAAaiC,UAAUsJ,qBAAuB,SAAS3G,GAE7D,GAAGA,aAAmB/E,GAAGE,IAAIyL,mBACzB5G,aAAmB/E,GAAGmC,GAAGwJ,mBACzB5G,aAAmB/E,GAAGE,IAAI0L,uBAC9B,CACCrL,KAAKsL,0BAA0B9G,EAAQ+G,mBACxC,MACK,GAAG/G,aAAmB/E,GAAGE,IAAI6L,oBAClC,CACC,IAAIC,EAAWjH,EAAQkH,cACvB,IAAI,IAAIpH,EAAG,EAAGC,EAASkH,EAASlH,OAAQD,EAAIC,EAAQD,IACpD,CACCtE,KAAKsL,0BAA0BG,EAASnH,GAAGiH,mBAC5C,CACD,CACD,EAEA9L,GAAGE,IAAIC,aAAaiC,UAAU8J,iBAAmB,SAASjF,GAEzD,OAAOjH,GAAGE,IAAIiM,8BAA8B1J,OAC3CzC,GAAG2C,KAAKsD,UAAUgB,EAAM,OAAQ,IAChCjH,GAAG2C,KAAKsD,UAAUgB,EAAM,OAAQ,IAChC,CACCmF,OAAQpM,GAAG2C,KAAKiB,UAAUqD,EAAM,SAAU,CAAC,GAC3CoF,MAAO9L,KAAK2G,OACZ1C,OAAQjE,MAGX,EACAP,GAAGE,IAAIC,aAAaiC,UAAUkK,wBAA0B,SAASC,GAEhEhM,KAAKkL,yBAA2B,KAChCzL,GAAGE,IAAIC,aAAaC,WAAWoL,qBAAqBlL,MAAMC,KAAM,CAACgM,GAClE,EACAvM,GAAGE,IAAIC,aAAaiC,UAAUoK,cAAgB,SAASC,EAAcC,GAEpE,GAAI1M,GAAGsD,KAAKqJ,iBAAiBF,IAAiBzM,GAAGsD,KAAKsJ,WAAWF,GACjE,CACC,IAAI7H,EAAGC,EACP,IAAID,EAAI,EAAGC,EAASvE,KAAKsF,aAAaf,OAAQD,EAAIC,EAAQD,IAC1D,CACC,GAAItE,KAAKsF,aAAahB,GAAGb,MAAQyI,EACjC,CACC,OAAOC,EAASG,KAAKtM,KAAMA,KAAKsF,aAAahB,GAC9C,CACD,CACD,CACD,EAGA7E,GAAGE,IAAIC,aAAaiC,UAAU0K,UAAY,WAEzC,OAAOvM,KAAKU,UACb,EACAjB,GAAGE,IAAIC,aAAaiC,UAAU2K,OAAS,WAGtC,IAAItI,EAAY,CAAEuI,OAAQ,OAC1BhN,GAAGiN,cAAc5I,OAAQ9D,KAAKyB,gBAAkB,kBAAmB,CAAEzB,KAAMkE,IAC3E,GAAGA,EAAU,UACb,CACC,MACD,CAEAlE,KAAK2M,yBAAyB3M,KAAK4M,SAAU,IAE7C,GAAG5M,KAAK6M,WACR,CACC7M,KAAK6M,WAAWL,QACjB,CAEA,GAAGxM,KAAKyC,qBACR,CACC,GAAGzC,KAAK8M,2BACR,CACCrN,GAAGsN,KAAK/M,KAAKyC,qBAAsB,QAAShD,GAAGa,SAASN,KAAKgN,2BAA4BhN,MAC1F,KAEA,CACCA,KAAKyC,qBAAqBwK,MAAMC,QAAU,MAC3C,CACD,CAEA,GAAGlN,KAAK2C,kBACR,CACClD,GAAGsN,KAAK/M,KAAK2C,kBAAmB,QAASlD,GAAGa,SAASN,KAAKmN,wBAAyBnN,MACpF,CAEA,IAAIoN,EAA4B3N,GAAG2C,KAAKQ,WAAW5C,KAAKmC,UAAW,4BAA6B,OAEhG,IAAIkL,EACH,CACCrI,KAAMvF,GAAGmC,GAAG0L,4BAA4BpL,OACvClC,KAAKyD,IACL,CAAE4G,KAAM5K,GAAGmC,GAAGmD,iBAAiBC,KAAMuI,gBAAiB,KAAMC,MAAOxN,OAEpEwK,KAAM/K,GAAGmC,GAAG0L,4BAA4BpL,OACvClC,KAAKyD,IACL,CAAE4G,KAAM5K,GAAGmC,GAAGmD,iBAAiByF,KAAM+C,gBAAiB,KAAMC,MAAOxN,QAItE,IAAIsE,EAAGC,EAAQC,EACf,IAAIF,EAAI,EAAGC,EAASvE,KAAKyE,UAAUF,OAAQD,EAAIC,EAAQD,IACvD,CACCE,EAAUxE,KAAKyE,UAAUH,GACzB,IAAI+F,EAAO7F,EAAQiJ,UAEnB,IAAIC,EACH,CACCC,gBAAiBN,EAAiB5N,GAAGmC,GAAGmD,iBAAiB6I,QAAQvD,IACjEwD,iBAAkB7N,KAAK8N,aAGzB,GAAGxJ,IAAM,GAAK8I,GAA6B/C,IAAS5K,GAAGmC,GAAGmD,iBAAiByF,OAASxK,KAAK+N,aACzF,CACCL,EAAc,YACb,CACC3L,GAAItC,GAAG2C,KAAKsD,UAAU1F,KAAKmC,UAAW,wBAAyB,IAC/D6L,KAAMhO,KAAKiO,WAAW,kBAEzB,CAEAzJ,EAAQgI,OAAOkB,GAEf,GAAGrD,IAAS5K,GAAGmC,GAAGmD,iBAAiBC,KACnC,CACChF,KAAKkK,sBAAsB1F,EAC5B,CACD,CAEA,MAAM0J,EAAoB,GAC1B,IAAI,IAAI3G,KAAO8F,EACf,CACC,GAAGA,EAAiB/J,eAAeiE,GACnC,CACC2G,EAAkBC,KAAKd,EAAiB9F,GAAK6G,WAC9C,CACD,CAEAC,QAAQC,IAAIJ,GACVK,MAAK,KACL9O,GAAGiN,cAAc5I,OAAQ9D,KAAKyB,gBAAkB,wBAAyB,CAAEzB,MAAO,IAGpF,GAAGA,KAAKiF,wBAA0B,EAClC,CACCjF,KAAKwO,eACN,CAEA,GAAGxO,KAAK2G,OAAO8H,oBACf,CACChP,GAAGsN,KACF/M,KAAK0O,WACL,QACAjP,GAAGa,SAASN,KAAK2O,gBAAiB3O,OAGnC,GAAGA,KAAK4O,qBACR,CACCnP,GAAGsN,KACF/M,KAAK4O,qBACL,QACAnP,GAAGa,SAASN,KAAK2O,gBAAiB3O,MAEpC,CACD,CAEA,GACCA,KAAKsK,QAAU7K,GAAGmC,GAAGmD,iBAAiBC,MACnChF,KAAKE,mBAAmB2O,cACvB7O,KAAKE,mBAAmB4O,eAE7B,CACC9O,KAAKE,mBAAmB6O,QACzB,CAEA,GAAG/O,KAAKgP,oBAAsBhP,KAAKiP,iBACnC,CACCjP,KAAKiP,iBAAiBhC,MAAMC,QAAU,EACvC,CAEAlN,KAAKkP,gBACLlP,KAAKU,WAAa,KAElBjB,GAAGiN,cAAc5I,OAAQ9D,KAAKyB,gBAAkB,YAAa,CAAEzB,MAChE,EAEAP,GAAGE,IAAIC,aAAaiC,UAAUiF,YAAc,WAE3CrH,GAAGE,IAAIC,aAAaC,WAAWiH,YAAY/G,MAAMC,MAEjD,IAAKA,KAAKmP,yBACV,CACC,MACD,CAEAC,SAASC,MAAQrP,KAAK2G,OAAO2I,aAAaC,OAC1C,GAAI9P,GAAG+P,SAAS,4CAChB,CACC/P,GAAGgQ,UAAUC,SAASC,oBACvB,CACD,EACAlQ,GAAGE,IAAIC,aAAaiC,UAAUkF,WAAa,WAE1CtH,GAAGE,IAAIC,aAAaC,WAAWkH,WAAWhH,MAAMC,MAChD,IAAIA,KAAKmP,2BAA6BnP,KAAK0O,WAC3C,CACC,MACD,CAEA,IAAIjJ,EAAUzF,KAAK0O,WAAWkB,WAAa5P,KAAK0O,WAAWkB,WAAa5P,KAAK0O,WAC7EjP,GAAGoQ,SAASpK,EAAS,gBACtB,EACAhG,GAAGE,IAAIC,aAAaiC,UAAUqN,cAAgB,WAG7C,GAAGlP,KAAK8P,QAAQC,yBAA2B/P,KAAKgP,oBAAsBhP,KAAKyE,UAAUF,OAAS,EAC9F,CACC,IAAIyL,EAAchQ,KAAKyE,UAAUzE,KAAKyE,UAAUF,OAAS,GACzD,IAAI0L,EAAkBD,EAAYtE,cAClC,IAAIwE,EAAqBD,EAAgBA,EAAgB1L,OAAS,GAClE2L,EAAmBC,kCAAkCnK,YACpDvG,GAAGyC,OACF,OACA,CACC4D,MACC,CACCC,UAAW/F,KAAK8P,QAAQM,aAAe3Q,GAAGmC,GAAGyO,kBAAkBC,OAC5D,yBAA2B,2BAEhCC,OAAQ,CAAEC,MAAO/Q,GAAGa,SAASN,KAAKmN,wBAAyBnN,SAI/D,CACD,EACAP,GAAGE,IAAIC,aAAaiC,UAAU4O,sBAAwB,SAASC,GAE9D1Q,KAAKc,oBAAoB6P,YAAYD,EACtC,EACAjR,GAAGE,IAAIC,aAAaiC,UAAU+O,yBAA2B,SAASF,GAEjE1Q,KAAKc,oBAAoB+P,eAAeH,EACzC,EACAjR,GAAGE,IAAIC,aAAaiC,UAAUiP,yBAA2B,SAASJ,GAEjE1Q,KAAKe,uBAAuB4P,YAAYD,EACzC,EACAjR,GAAGE,IAAIC,aAAaiC,UAAUkP,4BAA8B,SAASL,GAEpE1Q,KAAKe,uBAAuB8P,eAAeH,EAC5C,EACAjR,GAAGE,IAAIC,aAAaiC,UAAUmP,SAAW,SAASC,GAGjD,IAAIC,EAAYzR,GAAGmC,GAAGuP,qBAAqBjP,SAC3C,IAAI,IAAIoC,EAAI,EAAGC,EAASvE,KAAKyK,gBAAgBlG,OAAQD,EAAIC,EAAQD,IACjE,CACC4M,EAAUE,UAAUpR,KAAKyK,gBAAgBnG,GAAG0M,SAASC,GACtD,CACA,IAAI3M,EAAI,EAAGC,EAASvE,KAAKsF,aAAaf,OAAQD,EAAIC,EAAQD,IAC1D,CACC4M,EAAUE,UAAUpR,KAAKsF,aAAahB,GAAG0M,SAASC,GACnD,CACA,GAAIjR,KAAKqR,kBACT,CACCH,EAAUE,UAAUpR,KAAKqR,kBAAkBL,SAASC,GACrD,CAEA,OAAOC,EAAUF,UAClB,EACAvR,GAAGE,IAAIC,aAAaiC,UAAUyP,wBAA0B,WAEvD,IAAIC,EAAiB9R,GAAGE,IAAIC,aAAaC,WAAWyR,wBAAwBvR,MAAMC,MAClFuR,EAAe,gBAAkBvR,KAAKC,cAEtC,OAAOsR,CACR,EACA9R,GAAGE,IAAIC,aAAaiC,UAAU2P,mBAAqB,WAElD,MAAMC,EAAoBzR,KAAK0R,sBAC/B,GAAID,GAAqBA,EAAkBE,YAC3C,CACCF,EAAkBE,YAAYC,qBAC/B,CACD,EACAnS,GAAGE,IAAIC,aAAaiC,UAAUgQ,YAAc,WAE3C7R,KAAKwR,qBAEL,GAAIxR,KAAK8R,OACT,CACC9R,KAAKkL,yBAA2B,KACjC,CACAzL,GAAGE,IAAIC,aAAaC,WAAWgS,YAAY9R,MAAMC,KAClD,EACAP,GAAGE,IAAIC,aAAaiC,UAAUkQ,oBAAsB,WAOpD,EACAtS,GAAGE,IAAIC,aAAaiC,UAAUmQ,cAAgB,SAASf,EAAQzL,GAE9DxF,KAAKwR,qBAELxR,KAAKkL,yBAA2B,MAEhCzL,GAAGE,IAAIC,aAAaC,WAAWmS,cAAcjS,MAAMC,KAAM,CAACiR,EAAQzL,GACnE,EACA/F,GAAGE,IAAIC,aAAaiC,UAAUoQ,mBAAqB,SAAShB,GAE3D,MAAMhL,EAAcxG,GAAGE,IAAIC,aAAaC,WAAWoS,mBAAmBlS,MAAMC,KAAM,CAACiR,IAEnFhL,EAAY,gBAAkBjG,KAAKC,cAEnC,MAAMiS,EAAazS,GAAG2C,KAAKiB,UAAU4N,EAAQ,cAAe,MAC5D,GAAGiB,EACH,CACCjM,EAAY,cAAgBiM,CAC7B,CAEA,OAAOjM,CACR,EACAxG,GAAGE,IAAIC,aAAaiC,UAAUtB,kBAAoB,SAAS2F,EAAQhC,GAElElE,KAAKmS,kBAAoB,KACzB,GAAGnS,KAAK6M,WACR,CACC7M,KAAK6M,WAAWuF,UAAU,KAC3B,CACD,EACA3S,GAAGE,IAAIC,aAAaiC,UAAUpB,mBAAqB,SAASyF,EAAQhC,GAEnElE,KAAKmS,kBAAoB,MACzB,GAAGnS,KAAK6M,WACR,CACC7M,KAAK6M,WAAWuF,UAAU,MAC3B,CACD,EAEA3S,GAAGE,IAAIC,aAAaiC,UAAUwQ,0BAA4B,WAEzD,OAAOrS,KAAKE,mBAAmB2O,WAChC,EACApP,GAAGE,IAAIC,aAAaiC,UAAU6P,oBAAsB,WAEnD,OAAO1R,KAAKE,kBACb,EAGAT,GAAGE,IAAIC,aAAaiC,UAAU0H,4BAA8B,WAE3D,OAAO9J,GAAG2C,KAAKiB,UAAUrD,KAAKmC,UAAW,kBAAmB,KAC7D,EAGA1C,GAAGE,IAAIC,aAAaiC,UAAUyQ,OAAS,SAASC,EAAeC,EAAaC,EAAGC,GAG9E1S,KAAK2S,uBAAuBJ,EAAeC,EAC5C,EAGA/S,GAAGE,IAAIC,aAAaiC,UAAU+Q,iBAAmB,WAEhD,OAAOnT,GAAG2C,KAAKQ,WAAW5C,KAAKmC,UAAW,mBAAoB,MAC/D,EACA1C,GAAGE,IAAIC,aAAaiC,UAAUgR,iBAAmB,WAEhD,OAAOpT,GAAG2C,KAAKQ,WAAW5C,KAAKmC,UAAW,mBAAoB,MAC/D,EAEA1C,GAAGE,IAAIC,aAAaiC,UAAUiR,YAAc,SAASpM,GAEpD,IAAI1G,KAAKwB,aACT,CACCxB,KAAKwB,aAAe/B,GAAGyC,OAAO,MAAO,CAAE4D,MAAO,CAAEC,UAAW,iCAC3D/F,KAAKiD,WAAW8P,OAAO/S,KAAKwB,cAE5B,IAAIwR,EAAOvT,GAAGyC,OAAO,IACpB,CACC4D,MAAO,CAAEC,UAAW,oCACpBiI,KAAMvO,GAAG2C,KAAKsD,UAAUgB,EAAM,OAAQ,0BAGxC,IAAIuC,EAAMxJ,GAAG2C,KAAKsD,UAAUgB,EAAM,MAAO,IACzC,GAAGuC,IAAQ,GACX,CACC+J,EAAKC,KAAOC,QACZF,EAAKG,OAAS,QACf,KAEA,CACCH,EAAKC,KAAO,IACZxT,GAAGsN,KACFiG,EACA,SACA,SAASI,GACRtP,OAAOuP,IAAI5T,GAAG6T,OAAOC,KAAK,wBAA0B9T,GAAG2C,KAAKsD,UAAUgB,EAAM,OAAQ,KACpF0M,EAAEI,gBACH,GAEF,CACAxT,KAAKwB,aAAawE,YAAYgN,EAC/B,CACD,EACAvT,GAAGE,IAAIC,aAAaiC,UAAUoM,WAAa,SAASwF,GAEnD,IAAIC,EAAUjU,GAAGE,IAAIC,aAAaC,WAAWoO,WAAWlO,MAAMC,KAAM,CAACyT,IACrE,GAAIC,IAAYD,EAChB,CACC,IAAIE,EAAIlU,GAAGE,IAAIC,aAAagU,SAC5B,OAAOD,EAAErQ,eAAemQ,GAAQE,EAAEF,GAAQC,CAC3C,CACA,OAAOA,CACR,EACAjU,GAAGE,IAAIC,aAAaiC,UAAUgS,mBAAqB,SAASC,GAE3D,MAAMC,EAAU,CACfC,oBAAuB,yBACvBC,oBAAuB,yBACvB9S,eAAkB,oBAClB+S,eAAkB,oBAClBC,qBAAwB,2BAGzB,OAAOJ,EAAQD,IAAcA,CAC9B,EACArU,GAAGE,IAAIC,aAAaiC,UAAUuS,uBAAyB,WAEtD,IAAIC,EAAS5U,GAAGE,IAAIC,aAAaC,WAAWuU,uBAAuBrU,MAAMC,MAEzE,IAAKA,KAAK6C,qBACV,CACCwR,EAAQA,EAAMC,QAAO,SAAUC,GAC9B,OAAOA,EAAIxS,KAAO,wBACnB,GACD,CAEAtC,GAAGiN,cAAc5I,OAAQ9D,KAAKyB,gBAAkB,4BAA6B,CAACzB,KAAMqU,IAEpF,OAAOA,CACR,EACA5U,GAAGE,IAAIC,aAAa4U,gBAAkB,KACtC/U,GAAGE,IAAIC,aAAayU,MAAQ,CAAC,EAC7B5U,GAAGE,IAAIC,aAAa8C,IAAM,SAASX,GAElC,OAAO/B,KAAKqU,MAAM/Q,eAAevB,GAAM/B,KAAKqU,MAAMtS,GAAM,IACzD,EACA,UAAUtC,GAAGE,IAAIC,aAAqB,WAAM,YAC5C,CACCH,GAAGE,IAAIC,aAAagU,SAAW,CAAC,CACjC,CACAnU,GAAGE,IAAIC,aAAa6U,WAAa,SAASC,GAEzCjV,GAAGE,IAAIC,aAAa4U,gBAAkBE,CACvC,EACAjV,GAAGE,IAAIC,aAAa+U,WAAa,WAEhC,OAAOlV,GAAGE,IAAIC,aAAa4U,eAC5B,EACA/U,GAAGE,IAAIC,aAAasC,OAAS,SAASH,EAAIC,GAEzC,IAAI4S,EAAO,IAAInV,GAAGE,IAAIC,aACtBgV,EAAK9S,WAAWC,EAAIC,GACpBhC,KAAKqU,MAAMO,EAAKC,SAAWD,EAC3B,OAAOA,CACR,CACD,CAIA,UAAUnV,GAAGE,IAA2B,0BAAM,YAC9C,CAICF,GAAGE,IAAImV,wBAA0BrV,GAAGmC,GAAGkT,uBACxC,CAIA,UAAUrV,GAAGE,IAAIoV,wBAA0B,YAC3C,CAICtV,GAAGE,IAAIoV,sBAAwBtV,GAAGmC,GAAGmT,qBACtC,CAIA,UAAUtV,GAAGmC,GAAGoT,yBAA2B,YAC3C,CAICvV,GAAGE,IAAIqV,uBAAyBvV,GAAGmC,GAAGoT,sBACvC,CAKA,UAAUvV,GAAGE,IAAIsV,+BAAiC,YAClD,CAICxV,GAAGE,IAAIsV,6BAA+BxV,GAAGmC,GAAGoT,sBAC7C"}