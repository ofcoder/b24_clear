this.BX=this.BX||{};this.BX.Call=this.BX.Call||{};(function(e,t){"use strict";const a=Object.freeze({clickScreenshare:"click_screenshare",startScreenshare:"start_screenshare",finishScreenshare:"finish_screenshare",connect:"connect",startCall:"start_call",reconnect:"reconnect",addUser:"add_user",disconnect:"disconnect",finishCall:"finish_call",clickRecord:"click_record",recordStart:"record_start",recordStop:"record_stop",clickAnswer:"click_answer",clickDeny:"click_deny",cameraOn:"camera_on",cameraOff:"camera_off",micOn:"mic_on",micOff:"mic_off",clickUserFrame:"click_user_frame",handOn:"hand_on",clickChat:"click_chat"});const l=Object.freeze({im:"im"});const c=Object.freeze({call:"call"});const o=Object.freeze({private:"private",group:"group",videoconf:"videoconf"});const i=Object.freeze({callWindow:"call_window",callPopup:"call_popup",chatList:"chat_list",chatWindow:"chat_window"});const n=Object.freeze({finishButton:"finish_button",contextMenu:"context_menu",window:"window"});const s=Object.freeze({answerButton:"answer_button",joinButton:"join_button",videocall:"videocall",recordButton:"record_button",disconnectButton:"disconnect_button",finishForAllButton:"finish_for_all_button",videoButton:"video_button",audioButton:"audio_button"});const r=Object.freeze({success:"success",decline:"decline",busy:"busy",noAnswer:"no_answer",quit:"quit",lastUserLeft:"last_user_left",finishedForAll:"finished_for_all",privateToGroup:"private_to_group"});const d=Object.freeze({videoOn:"video_on",videoOff:"video_off",micOn:"mic_on",micOff:"mic_off"});var p=babelHelpers.classPrivateFieldLooseKey("instance");var u=babelHelpers.classPrivateFieldLooseKey("screenShareStarted");var _=babelHelpers.classPrivateFieldLooseKey("recordStarted");class f{constructor(){Object.defineProperty(this,u,{writable:true,value:false});Object.defineProperty(this,_,{writable:true,value:false})}static getInstance(){if(!babelHelpers.classPrivateFieldLooseBase(this,p)[p]){babelHelpers.classPrivateFieldLooseBase(this,p)[p]=new this}return babelHelpers.classPrivateFieldLooseBase(this,p)[p]}onScreenShareBtnClick({callId:e,callType:o}){if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]){return}t.sendData({tool:l.im,category:c.call,event:a.clickScreenshare,type:o,c_section:i.callWindow,p5:`callId_${e}`})}onScreenShareStarted({callId:e,callType:o}){babelHelpers.classPrivateFieldLooseBase(this,u)[u]=true;t.sendData({tool:l.im,category:c.call,event:a.startScreenshare,type:o,c_section:i.callWindow,p5:`callId_${e}`})}onScreenShareStopped({callId:e,callType:o,status:n,screenShareLength:s}){if(!babelHelpers.classPrivateFieldLooseBase(this,u)[u]){return}babelHelpers.classPrivateFieldLooseBase(this,u)[u]=false;t.sendData({tool:l.im,category:c.call,event:a.finishScreenshare,type:o,c_section:i.callWindow,status:n,p1:s,p5:`callId_${e}`})}onAnswerConference(e){t.sendData({tool:l.im,category:c.call,event:a.clickAnswer,type:o.videoconf,c_section:i.callPopup,p5:`callId_${e.callId}`})}onDeclineConference(e){t.sendData({tool:l.im,category:c.call,event:a.clickDeny,type:o.videoconf,c_section:i.callPopup,p5:`callId_${e.callId}`})}onStartVideoconf(e){t.sendData({tool:l.im,category:c.call,event:a.startCall,type:o.videoconf,c_element:e.withVideo?s.videoButton:s.audioButton,status:e.status,p1:e.mediaParams.video?d.videoOn:d.videoOff,p2:e.mediaParams.audio?d.micOn:d.micOff,p5:`callId_${e.callId}`})}onJoinVideoconf(e){t.sendData({tool:l.im,category:c.call,event:a.connect,type:o.videoconf,c_element:e.withVideo?s.videoButton:s.audioButton,status:e.status,p1:e.mediaParams.video?d.videoOn:d.videoOff,p2:e.mediaParams.audio?d.micOn:d.micOff,p5:`callId_${e.callId}`})}onStartCall(e){t.sendData({tool:l.im,category:c.call,event:a.startCall,type:e.callType,status:e.status,p1:e.mediaParams.video?d.videoOn:d.videoOff,p2:e.mediaParams.audio?d.micOn:d.micOff,p5:`callId_${e.callId}`})}onJoinCall(e){const o={tool:l.im,category:c.call,event:a.connect,type:e.callType,status:e.status,p5:`callId_${e.callId}`};if(e.section){o.c_section=e.section}if(e.element){o.c_element=e.element}if(e.mediaParams){o.p1=e.mediaParams.video?d.videoOn:d.videoOff;o.p2=e.mediaParams.audio?d.micOn:d.micOff}t.sendData(o)}onReconnect(e){t.sendData({tool:l.im,category:c.call,event:a.reconnect,type:e.callType,c_section:i.callWindow,status:e.status,p4:`attemptNumber_${e.reconnectionEventCount}`,p5:`callId_${e.callId}`})}onInviteUser(e){t.sendData({tool:l.im,category:c.call,event:a.addUser,type:e.callType,c_section:i.callWindow,p4:`chatId_${this.normalizeChatId(e.chatId)}`,p5:`callId_${e.callId}`})}onDisconnectCall(e){t.sendData({tool:l.im,category:c.call,event:a.disconnect,type:e.callType,c_section:i.callWindow,c_sub_section:e.subSection,status:r.quit,p1:e.mediaParams.video?d.videoOn:d.videoOff,p2:e.mediaParams.audio?d.micOn:d.micOff,p5:`callId_${e.callId}`})}onFinishCall(e){t.sendData({tool:l.im,category:c.call,event:a.finishCall,type:e.callType,c_section:i.callWindow,status:e.status,p1:e.callLength,p3:e.callUsersCount,p4:`chatId_${this.normalizeChatId(e.chatId)}`,p5:`callId_${e.callId}`})}onRecordBtnClick(e){if(babelHelpers.classPrivateFieldLooseBase(this,_)[_]){return}t.sendData({tool:l.im,category:c.call,event:a.clickRecord,type:e.callType,c_section:i.callWindow,c_element:s.recordButton,p5:`callId_${e.callId}`})}onRecordStart(e){if(babelHelpers.classPrivateFieldLooseBase(this,_)[_]){return}babelHelpers.classPrivateFieldLooseBase(this,_)[_]=true;t.sendData({tool:l.im,category:c.call,event:a.recordStart,type:e.callType,c_section:i.callWindow,status:r.success,p5:`callId_${e.callId}`})}onRecordStop(e){if(!babelHelpers.classPrivateFieldLooseBase(this,_)[_]){return}babelHelpers.classPrivateFieldLooseBase(this,_)[_]=false;t.sendData({tool:l.im,category:c.call,event:a.recordStop,type:e.callType,c_section:i.callWindow,c_sub_section:e.subSection,c_element:e.element,p1:e==null?void 0:e.recordTime,p5:`callId_${e.callId}`})}onToggleCamera(e){t.sendData({tool:l.im,category:c.call,event:e.video?a.cameraOn:a.cameraOff,type:e.callType,c_section:i.callWindow,p5:`callId_${e.callId}`})}onToggleMicrophone(e){t.sendData({tool:l.im,category:c.call,event:e.muted?a.micOff:a.micOn,type:e.callType,c_section:i.callWindow,p5:`callId_${e.callId}`})}onClickUser(e){t.sendData({tool:l.im,category:c.call,event:a.clickUserFrame,type:e.callType,c_section:i.callWindow,c_sub_section:e.layout.toLowerCase(),p5:`callId_${e.callId}`})}onFloorRequest(e){t.sendData({tool:l.im,category:c.call,event:a.handOn,type:e.callType,c_section:i.callWindow,p5:`callId_${e.callId}`})}onShowChat(e){t.sendData({tool:l.im,category:c.call,event:a.clickChat,type:e.callType,c_section:i.callWindow,p5:`callId_${e.callId}`})}normalizeChatId(e){if(!e){return 0}if(e.includes("chat")){e=e.replace("chat","")}return e}}Object.defineProperty(f,p,{writable:true,value:void 0});f.AnalyticsType=o;f.AnalyticsStatus=r;f.AnalyticsSection=i;f.AnalyticsElement=s;f.AnalyticsSubSection=n;e.Analytics=f})(this.BX.Call.Lib=this.BX.Call.Lib||{},BX.UI.Analytics);
//# sourceMappingURL=analytics.bundle.map.js