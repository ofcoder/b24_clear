this.BX=this.BX||{};(function(e,s,t,i,a,l){"use strict";let r=e=>e,o,n;var c=babelHelpers.classPrivateFieldLooseKey("companyId");var d=babelHelpers.classPrivateFieldLooseKey("requisiteId");var b=babelHelpers.classPrivateFieldLooseKey("isConnected");var v=babelHelpers.classPrivateFieldLooseKey("isPublic");var p=babelHelpers.classPrivateFieldLooseKey("publicUrl");var g=babelHelpers.classPrivateFieldLooseKey("editUrl");var u=babelHelpers.classPrivateFieldLooseKey("requisiteElement");var h=babelHelpers.classPrivateFieldLooseKey("requisitesPopup");var P=babelHelpers.classPrivateFieldLooseKey("requisiteButton");var _=babelHelpers.classPrivateFieldLooseKey("updateOptions");var L=babelHelpers.classPrivateFieldLooseKey("updateElement");var H=babelHelpers.classPrivateFieldLooseKey("getRequisiteSettingsButton");var B=babelHelpers.classPrivateFieldLooseKey("getRequisitesPopup");var T=babelHelpers.classPrivateFieldLooseKey("getButtonText");var F=babelHelpers.classPrivateFieldLooseKey("getRequisiteButton");var f=babelHelpers.classPrivateFieldLooseKey("handleButtonOnclick");var I=babelHelpers.classPrivateFieldLooseKey("handleOpenRequisite");var y=babelHelpers.classPrivateFieldLooseKey("handleCreateLanding");var E=babelHelpers.classPrivateFieldLooseKey("createLanding");var w=babelHelpers.classPrivateFieldLooseKey("handleEditRequisite");var m=babelHelpers.classPrivateFieldLooseKey("handleCreateCompany");var N=babelHelpers.classPrivateFieldLooseKey("getRequisites");class S extends i.EventEmitter{constructor(e){super();Object.defineProperty(this,N,{value:U});Object.defineProperty(this,m,{value:x});Object.defineProperty(this,w,{value:$});Object.defineProperty(this,E,{value:D});Object.defineProperty(this,y,{value:k});Object.defineProperty(this,I,{value:W});Object.defineProperty(this,f,{value:G});Object.defineProperty(this,F,{value:K});Object.defineProperty(this,T,{value:A});Object.defineProperty(this,B,{value:j});Object.defineProperty(this,H,{value:C});Object.defineProperty(this,L,{value:R});Object.defineProperty(this,_,{value:O});Object.defineProperty(this,c,{writable:true,value:void 0});Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,b,{writable:true,value:void 0});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});Object.defineProperty(this,g,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});if(e){babelHelpers.classPrivateFieldLooseBase(this,_)[_](e);top.BX.addCustomEvent("onLocalStorageSet",(e=>{var s;const t=(s=e==null?void 0:e.key)!=null?s:null;if(t==="onCrmEntityUpdate"||t==="onCrmEntityCreate"||t==="BX.Crm.RequisiteSliderDetails:onSave"){babelHelpers.classPrivateFieldLooseBase(this,N)[N]().then((()=>{babelHelpers.classPrivateFieldLooseBase(this,L)[L]()}))}}))}}getElement(){if(!babelHelpers.classPrivateFieldLooseBase(this,u)[u]){babelHelpers.classPrivateFieldLooseBase(this,u)[u]=a.Tag.render(o||(o=r`
				<div class="intranet-settings-widget__business-card intranet-settings-widget_box">
					<div class="intranet-settings-widget__business-card_head intranet-settings-widget_inner">
						<div class="intranet-settings-widget_icon-box --gray">
							<div class="ui-icon-set --customer-card-1"></div>
						</div>
						<div class="intranet-settings-widget__title" data-role="requisite-widget-title">
							${0}
						</div>
						<i class="ui-icon-set --help" onclick="BX.Helper.show('redirect=detail&code=18213326')"></i>
					</div>

					<div class="intranet-settings-widget__business-card_footer">
						${0}
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,b)[b]?a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_REQUISITE_SITE_TITLE"):a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_REQUISITE_TITLE"),babelHelpers.classPrivateFieldLooseBase(this,F)[F]().getContainer(),babelHelpers.classPrivateFieldLooseBase(this,c)[c]?babelHelpers.classPrivateFieldLooseBase(this,H)[H]():"")}return babelHelpers.classPrivateFieldLooseBase(this,u)[u]}}function O(e){var s,t;babelHelpers.classPrivateFieldLooseBase(this,c)[c]=(s=e.companyId)!=null?s:0;babelHelpers.classPrivateFieldLooseBase(this,d)[d]=(t=e.requisiteId)!=null?t:0;babelHelpers.classPrivateFieldLooseBase(this,b)[b]=a.Type.isBoolean(e.isConnected)?e.isConnected:false;babelHelpers.classPrivateFieldLooseBase(this,v)[v]=a.Type.isBoolean(e.isPublic)?e.isPublic:false;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=a.Type.isString(e.publicUrl)?e.publicUrl:"";babelHelpers.classPrivateFieldLooseBase(this,g)[g]=a.Type.isString(e.editUrl)?e.editUrl:""}function R(){const e=this.getElement();babelHelpers.classPrivateFieldLooseBase(this,u)[u]=null;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=null;a.Dom.replace(e,this.getElement())}function C(){const e=()=>{babelHelpers.classPrivateFieldLooseBase(this,B)[B]().show()};return a.Tag.render(n||(n=r`
			<span onclick="${0}" class="intranet-settings-widget__requisite-btn">
				<i class='ui-icon-set --more-information'></i>
			</span>
		`),e)}function j(){if(!babelHelpers.classPrivateFieldLooseBase(this,h)[h]){const e=()=>{if(BX.clipboard.copy(babelHelpers.classPrivateFieldLooseBase(this,p)[p])){BX.UI.Notification.Center.notify({content:a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_COPIED_POPUP"),position:"top-left",autoHideDelay:3e3})}};const s=()=>{window.open(babelHelpers.classPrivateFieldLooseBase(this,g)[g],"_blank");babelHelpers.classPrivateFieldLooseBase(this,h)[h].close();Ge.close()};let t=null;if(babelHelpers.classPrivateFieldLooseBase(this,p)[p]){t={html:`\n\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-item">\n\t\t\t\t\t\t\t\t<div class="ui-icon-set --link-3"></div> \n\t\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-name">${a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_COPY_LINK_BUTTON")}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,onclick:e}}let i=null;if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]){i={html:`\n\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-item">\n\t\t\t\t\t\t\t\t<div class="ui-icon-set --paint-1"></div> \n\t\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-name">${a.Loc.getMessage("INTRANET_SETTINGS_CONFIGURE_CUTAWAY_SITE_BUTTON")}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,onclick:s}}const l=()=>{if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]){babelHelpers.classPrivateFieldLooseBase(this,h)[h].close()}Ge.close();BX.SidePanel.Instance.open(`/crm/company/details/${babelHelpers.classPrivateFieldLooseBase(this,c)[c]}/?init_mode=edit&rqedit=y`)};const r={html:`\n\t\t\t\t\t\t<div class="intranet-settings-widget__popup-item">\n\t\t\t\t\t\t\t<div class="ui-icon-set --pencil-40"></div>\n\t\t\t\t\t\t\t<div class="intranet-settings-widget__popup-name">${a.Loc.getMessage("INTRANET_SETTINGS_CONFIGURE_REQUISITE_BUTTON")}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`,onclick:l};const o=240;babelHelpers.classPrivateFieldLooseBase(this,h)[h]=BX.PopupMenu.create("requisites-settings",event.currentTarget,[t,r,i],{closeByEsc:true,autoHide:true,width:o,offsetLeft:-72,angle:{offset:o/2-15},events:{onShow:()=>{setTimeout((()=>{a.Event.bindOnce(Ge.getInstance().getWidget().getPopup().getPopupContainer(),"click",(()=>{babelHelpers.classPrivateFieldLooseBase(this,h)[h].close()}))}),0)}}})}return babelHelpers.classPrivateFieldLooseBase(this,h)[h]}function A(){if(babelHelpers.classPrivateFieldLooseBase(this,b)[b]){return a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_REDIRECT_TO_REQUISITE_BUTTON")}if(babelHelpers.classPrivateFieldLooseBase(this,c)[c]>0&&babelHelpers.classPrivateFieldLooseBase(this,d)[d]>0){return a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_CREATE_LANDING")}return a.Loc.getMessage("INTRANET_SETTINGS_CONFIGURE_REQUISITE_BUTTON")}function K(){if(!babelHelpers.classPrivateFieldLooseBase(this,P)[P]){babelHelpers.classPrivateFieldLooseBase(this,P)[P]=new BX.UI.Button({id:"requisite-btn",text:babelHelpers.classPrivateFieldLooseBase(this,T)[T](),noCaps:true,onclick:babelHelpers.classPrivateFieldLooseBase(this,f)[f].bind(this),className:"ui-btn ui-btn-light-border ui-btn-round ui-btn-xs ui-btn-no-caps intranet-setting__btn-light"})}return babelHelpers.classPrivateFieldLooseBase(this,P)[P]}function G(){if(babelHelpers.classPrivateFieldLooseBase(this,b)[b]){babelHelpers.classPrivateFieldLooseBase(this,I)[I]()}else if(babelHelpers.classPrivateFieldLooseBase(this,c)[c]>0){if(babelHelpers.classPrivateFieldLooseBase(this,d)[d]>0){babelHelpers.classPrivateFieldLooseBase(this,y)[y]()}else{babelHelpers.classPrivateFieldLooseBase(this,w)[w]()}}else{babelHelpers.classPrivateFieldLooseBase(this,m)[m]()}}function W(){Ge.close();window.open(babelHelpers.classPrivateFieldLooseBase(this,p)[p],"_blank")}function k(){babelHelpers.classPrivateFieldLooseBase(this,F)[F]().setWaiting(true);babelHelpers.classPrivateFieldLooseBase(this,E)[E]().then((()=>{babelHelpers.classPrivateFieldLooseBase(this,h)[h]=null;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=null;babelHelpers.classPrivateFieldLooseBase(this,L)[L]();if(!babelHelpers.classPrivateFieldLooseBase(this,v)[v]){const e=new Popup("public-landing-error",this.getElement().querySelector('[data-role="requisite-widget-title"]'),{autoHide:true,closeByEsc:true,angle:true,darkMode:true,content:a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_CREATE_LANDING_ERROR"),events:{onShow:()=>{setTimeout((()=>{a.Event.bindOnce(Ge.getInstance().getWidget().getPopup().getPopupContainer(),"click",(()=>{e.close()}))}),0)},onClose:()=>{e.destroy()}}});e.show()}}))}function D(){return new Promise((e=>{a.ajax.runComponentAction("bitrix:intranet.settings.widget","createRequisiteLanding",{mode:"class"}).then((({data:{isConnected:s,isPublic:t,publicUrl:i,editUrl:a}})=>{babelHelpers.classPrivateFieldLooseBase(this,b)[b]=s;babelHelpers.classPrivateFieldLooseBase(this,v)[v]=t;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=i;babelHelpers.classPrivateFieldLooseBase(this,g)[g]=a;e()}))}))}function $(){Ge.close();BX.SidePanel.Instance.open(`/crm/company/details/${babelHelpers.classPrivateFieldLooseBase(this,c)[c]}/?init_mode=edit&rqedit=y`)}function x(){Ge.close();BX.SidePanel.Instance.open("/crm/company/details/0/?mycompany=y&rqedit=y")}function U(){return new Promise((e=>{a.ajax.runComponentAction("bitrix:intranet.settings.widget","getRequisites",{mode:"class"}).then((({data:{requisite:s}})=>{babelHelpers.classPrivateFieldLooseBase(this,_)[_](s);e()}))}))}let X=e=>e,M,q,Q,Y,V,z,J,Z,ee,se,te,ie,ae;var le=babelHelpers.classPrivateFieldLooseKey("widgetPopup");var re=babelHelpers.classPrivateFieldLooseKey("target");var oe=babelHelpers.classPrivateFieldLooseKey("otp");var ne=babelHelpers.classPrivateFieldLooseKey("instance");var ce=babelHelpers.classPrivateFieldLooseKey("marketUrl");var de=babelHelpers.classPrivateFieldLooseKey("theme");var be=babelHelpers.classPrivateFieldLooseKey("holding");var ve=babelHelpers.classPrivateFieldLooseKey("holdingWidget");var pe=babelHelpers.classPrivateFieldLooseKey("isBitrix24");var ge=babelHelpers.classPrivateFieldLooseKey("isFreeLicense");var ue=babelHelpers.classPrivateFieldLooseKey("isAdmin");var he=babelHelpers.classPrivateFieldLooseKey("requisite");var Pe=babelHelpers.classPrivateFieldLooseKey("requisiteSection");var _e=babelHelpers.classPrivateFieldLooseKey("settingsUrl");var Le=babelHelpers.classPrivateFieldLooseKey("isRenameable");var He=babelHelpers.classPrivateFieldLooseKey("setOptions");var Be=babelHelpers.classPrivateFieldLooseKey("setHoldingOptions");var Te=babelHelpers.classPrivateFieldLooseKey("getItemsList");var Fe=babelHelpers.classPrivateFieldLooseKey("drawItemsList");var fe=babelHelpers.classPrivateFieldLooseKey("getLinkHeaderIcon");var Ie=babelHelpers.classPrivateFieldLooseKey("getEditHeaderIcon");var ye=babelHelpers.classPrivateFieldLooseKey("getHeader");var Ee=babelHelpers.classPrivateFieldLooseKey("applyTheme");var we=babelHelpers.classPrivateFieldLooseKey("getFooter");var me=babelHelpers.classPrivateFieldLooseKey("prepareElement");var Ne=babelHelpers.classPrivateFieldLooseKey("getRequisitesElement");var Se=babelHelpers.classPrivateFieldLooseKey("getHoldingsElement");var Oe=babelHelpers.classPrivateFieldLooseKey("getHoldingWidget");var Re=babelHelpers.classPrivateFieldLooseKey("getEmptyHoldingsElement");var Ce=babelHelpers.classPrivateFieldLooseKey("getSecurityAndSettingsElement");var je=babelHelpers.classPrivateFieldLooseKey("getSecurityElement");var Ae=babelHelpers.classPrivateFieldLooseKey("getGeneralSettingsElement");var Ke=babelHelpers.classPrivateFieldLooseKey("getMigrateElement");class Ge extends i.EventEmitter{constructor(e){super();Object.defineProperty(this,Ke,{value:ts});Object.defineProperty(this,Ae,{value:ss});Object.defineProperty(this,je,{value:es});Object.defineProperty(this,Ce,{value:Ze});Object.defineProperty(this,Re,{value:Je});Object.defineProperty(this,Oe,{value:ze});Object.defineProperty(this,Se,{value:Ve});Object.defineProperty(this,Ne,{value:Ye});Object.defineProperty(this,me,{value:Qe});Object.defineProperty(this,we,{value:qe});Object.defineProperty(this,Ee,{value:Me});Object.defineProperty(this,ye,{value:Xe});Object.defineProperty(this,Ie,{value:Ue});Object.defineProperty(this,fe,{value:xe});Object.defineProperty(this,Fe,{value:$e});Object.defineProperty(this,Te,{value:De});Object.defineProperty(this,Be,{value:ke});Object.defineProperty(this,He,{value:We});Object.defineProperty(this,le,{writable:true,value:void 0});Object.defineProperty(this,re,{writable:true,value:void 0});Object.defineProperty(this,oe,{writable:true,value:void 0});Object.defineProperty(this,ce,{writable:true,value:void 0});Object.defineProperty(this,de,{writable:true,value:void 0});Object.defineProperty(this,be,{writable:true,value:null});Object.defineProperty(this,ve,{writable:true,value:void 0});Object.defineProperty(this,pe,{writable:true,value:false});Object.defineProperty(this,ge,{writable:true,value:false});Object.defineProperty(this,ue,{writable:true,value:void 0});Object.defineProperty(this,he,{writable:true,value:void 0});Object.defineProperty(this,Pe,{writable:true,value:void 0});Object.defineProperty(this,_e,{writable:true,value:void 0});Object.defineProperty(this,Le,{writable:true,value:void 0});this.setEventNamespace("BX.Intranet.SettingsWidget");babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]=e.marketUrl;babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]=e.isBitrix24;babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]=e.isFreeLicense;babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]=e.isAdmin;babelHelpers.classPrivateFieldLooseBase(this,he)[he]=e.requisite;babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]=e.settingsPath;babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]=e.isRenameable;babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]=new S(e.requisite);babelHelpers.classPrivateFieldLooseBase(this,He)[He](e)}setTarget(e){babelHelpers.classPrivateFieldLooseBase(this,re)[re]=e;return this}setWidgetPopup(e){babelHelpers.classPrivateFieldLooseBase(this,le)[le]=e;babelHelpers.classPrivateFieldLooseBase(this,le)[le].getPopup().subscribe("onClose",(()=>{a.Event.unbindAll(this.getWidget().getPopup().getPopupContainer(),"click")}));babelHelpers.classPrivateFieldLooseBase(this,Te)[Te]().then((()=>{babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]()}));return this}static bindWidget(e){const s=this.getInstance();if(s){s.setWidgetPopup(e)}return s}static bindAndShow(e){const s=this.getInstance();if(s){a.Event.unbindAll(e);a.Event.bind(e,"click",s.toggle.bind(s,e));s.show(e)}return s}static init(e){if(babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]===null){babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]=new this(e)}return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]}static getInstance(){return babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]}static close(){const e=this.getInstance();if(e){e.getWidget().close()}}toggle(e){const s=this.getWidget().getPopup();if(s.isShown()){s.close()}else{this.show(e)}}show(e){const s=this.getWidget().getPopup();s.setBindElement(e);s.show();if(s.getPopupContainer().getBoundingClientRect().left<30){a.Dom.style(s.getPopupContainer(),{left:"30px"})}this.setTarget(e)}getWidget(){return babelHelpers.classPrivateFieldLooseBase(this,le)[le]}}function We(e){e.theme?babelHelpers.classPrivateFieldLooseBase(this,de)[de]=e.theme:null;e.otp?babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]=e.otp:null;e.holding?babelHelpers.classPrivateFieldLooseBase(this,Be)[Be](e.holding):null}function ke(e){var s,t,i,l;if(!a.Type.isPlainObject(e)){babelHelpers.classPrivateFieldLooseBase(this,be)[be]=null;return}babelHelpers.classPrivateFieldLooseBase(this,be)[be]={isHolding:(s=e.isHolding)!=null?s:false,affiliate:(t=e.affiliate)!=null?t:null,canBeHolding:(i=e.canBeHolding)!=null?i:false,canBeAffiliate:(l=e.canBeAffiliate)!=null?l:false}}function De(e=false){if(e===true||typeof babelHelpers.classPrivateFieldLooseBase(this,de)[de]==="undefined"){return new Promise((e=>{a.ajax.runComponentAction("bitrix:intranet.settings.widget","getData",{mode:"class"}).then((({data:{theme:s,otp:t,holding:i}})=>{babelHelpers.classPrivateFieldLooseBase(this,de)[de]=s;babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]=t;babelHelpers.classPrivateFieldLooseBase(this,Be)[Be](i);e()}))}))}return Promise.resolve()}function $e(){const e=this.getWidget().getPopup().getPopupContainer();a.Dom.clean(e);a.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,ye)[ye](),e);const s=[babelHelpers.classPrivateFieldLooseBase(this,he)[he]&&babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]?babelHelpers.classPrivateFieldLooseBase(this,Ne)[Ne]():null,babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]?babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce]():null,babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]?babelHelpers.classPrivateFieldLooseBase(this,Se)[Se]():null,babelHelpers.classPrivateFieldLooseBase(this,Ke)[Ke]()];s.forEach((s=>{a.Dom.append(s,e)}));a.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,we)[we](),e)}function xe(){const e=()=>{if(BX.clipboard.copy(window.location.origin)){BX.UI.Notification.Center.notify({content:a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_LINK_COPIED_POPUP"),position:"top-left",autoHideDelay:3e3})}};return a.Tag.render(M||(M=X`<span class='ui-icon-set --link-3 intranet-settings-widget__header-btn' onclick="${0}"></span>`),e)}function Ue(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]+"?analyticContext=widget_settings_settings&page=portal&option=subDomainName")};return a.Tag.render(q||(q=X`<span class='ui-icon-set --pencil-40 intranet-settings-widget__header-btn' onclick="${0}"></span>`),e)}function Xe(){const e=a.Tag.render(Q||(Q=X`
				<div class="intranet-settings-widget__header">
					<div class="intranet-settings-widget__header_inner">
						<span class="intranet-settings-widget__header-name">${0}</span>
						${0}
					</div>
				</div>
			`),window.location.host,babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]?babelHelpers.classPrivateFieldLooseBase(this,Ie)[Ie]():babelHelpers.classPrivateFieldLooseBase(this,fe)[fe]());babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee](e,babelHelpers.classPrivateFieldLooseBase(this,de)[de]);const s=new l.PopupComponentsMakerItem({withoutBackground:true,html:e}).getContainer();a.Dom.addClass(s,"--widget-header");i.EventEmitter.subscribe("BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(({data:{theme:s}})=>{babelHelpers.classPrivateFieldLooseBase(this,Ee)[Ee](e,s)}));return s}function Me(e,s){const t=`url('${a.Text.encode(s.previewImage)}')`;a.Dom.style(e,"backgroundImage",t);a.Dom.removeClass(e,"bitrix24-theme-dark bitrix24-theme-light");const i=String(s.id).indexOf("dark:")===0?"bitrix24-theme-dark":"bitrix24-theme-light";a.Dom.addClass(e,i)}function qe(){const e=()=>{this.getWidget().close();BX.UI.InfoHelper.show("info_implementation_request")};const s=a.Tag.render(Y||(Y=X`
			<span class="intranet-settings-widget__footer-item" onclick="${0}">
				${0}
			</span>
		`),e,a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_ORDER_PARTNER_LINK_MSGVER_1"));const t=()=>{if(top.BX.Helper){this.getWidget().close();top.BX.Helper.show("redirect=detail&code=18371844")}};const i=()=>{if(top.BX.Helper){this.getWidget().close();if(babelHelpers.classPrivateFieldLooseBase(this,ge)[ge]){BX.UI.InfoHelper.show("limit_support_bitrix")}else{BX.Helper.show("redirect=detail&code=12925062")}}};return a.Tag.render(V||(V=X`
				<div class="intranet-settings-widget__footer">
					${0}
					<span class="intranet-settings-widget__footer-item" onclick="${0}">
						${0}
					</span>
					<span class="intranet-settings-widget__footer-item" onclick="${0}">
						${0}
					</span>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]?s:"",t,a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_WHERE_TO_BEGIN_LINK"),i,a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SUPPORT_BUTTON"))}function Qe(e){const s=this.getWidget().getItem({html:e});const t=s.getContainer();a.Dom.addClass(t,"--widget-item");return t}function Ye(){return babelHelpers.classPrivateFieldLooseBase(this,me)[me](babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe].getElement())}function Ve(){if(babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]!==true||babelHelpers.classPrivateFieldLooseBase(this,be)[be]===null){return null}if(!a.Type.isPlainObject(babelHelpers.classPrivateFieldLooseBase(this,be)[be].affiliate)){return babelHelpers.classPrivateFieldLooseBase(this,Re)[Re]()}const e=babelHelpers.classPrivateFieldLooseBase(this,be)[be].affiliate;const s=()=>{this.getWidget().close();babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]().show(babelHelpers.classPrivateFieldLooseBase(this,re)[re])};const t=e.profilePhoto?`background: url('${encodeURI(a.Text.encode(e.profilePhoto))}') no-repeat center; background-size: cover;`:"";const i=a.Tag.render(z||(z=X`
		<div class="intranet-settings-widget__branch" onclick="${0}">
			<div class="intranet-settings-widget__branch-icon_box">
				<div class="ui-icon ui-icon-common-user intranet-settings-widget__branch-icon">
					<i style="${0}"></i>
				</div>
			</div>
			<div class="intranet-settings-widget__branch_content">
				<div class="intranet-settings-widget__branch-title">
					${0}
				</div>
				<div class="intranet-settings-widget__title">
					${0}
				</div>
			</div>
			<div class="intranet-settings-widget__branch-btn_box">
				<button class="ui-btn ui-btn-light-border ui-btn-round ui-btn-xs ui-btn-no-caps intranet-setting__btn-light">
					${0}
				</button>
			</div>
		</div>
		`),s,t,e.isHolding?a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_MAIN_BRANCH"):a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECONDARY_BRANCH"),e.name,a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_BRANCHES"));return babelHelpers.classPrivateFieldLooseBase(this,me)[me](i)}function ze(){if(!babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]){babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]=BX.Intranet.HoldingWidget.getInstance();const e=()=>{babelHelpers.classPrivateFieldLooseBase(this,ve)[ve].getWidget().close();this.show()};const s=a.Tag.render(J||(J=X`
				<div class="intranet-settings-widget__close-btn">
					<div onclick="${0}" class="ui-icon-set --arrow-left intranet-settings-widget__close-btn_icon"></div>
					<div class="intranet-settings-widget__close-btn_name">${0}</div>
				</div>
			`),e,a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_BRANCH_LIST"));babelHelpers.classPrivateFieldLooseBase(this,ve)[ve].getWidget().getPopup().getContentContainer().prepend(s)}return babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]}function Je(){if(!a.Type.isPlainObject(babelHelpers.classPrivateFieldLooseBase(this,be)[be])){return null}const e=babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]?a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_NETWORK"):a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_NETWORK_UNAVAILABLE");const s=babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]?a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_SETTINGS"):a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_FILIAL_ABOUT");const t=()=>{this.getWidget().close();if(babelHelpers.classPrivateFieldLooseBase(this,be)[be].canBeHolding){babelHelpers.classPrivateFieldLooseBase(this,Oe)[Oe]().show(babelHelpers.classPrivateFieldLooseBase(this,re)[re])}else{BX.UI.InfoHelper.show("limit_office_multiple_branches")}};const i=a.Tag.render(Z||(Z=X`
			<div class="intranet-settings-widget__branch-lock-icon_box">
				<div class="ui-icon-set intranet-settings-widget__branch-lock-icon --lock"></div>
			</div>
		`));const l=a.Tag.render(ee||(ee=X`
			<div class="intranet-settings-widget__branch" onclick="${0}">
				<div class="intranet-settings-widget__branch-icon_box">
					<div class="ui-icon-set intranet-settings-widget__branch-icon --filial-network"></div>
					${0}
				</div>
				<div class="intranet-settings-widget__branch_content">
					<div class="intranet-settings-widget__title">${0}</div>
				</div>
				<div class="intranet-settings-widget__branch-btn_box">
					<button class="ui-btn ui-btn-light-border ui-btn-round ui-btn-xs ui-btn-no-caps intranet-setting__btn-light">${0}</button>
				</div>
			</div>
		`),t,!babelHelpers.classPrivateFieldLooseBase(this,be)[be].canBeHolding?i:"",e,s);return babelHelpers.classPrivateFieldLooseBase(this,me)[me](l)}function Ze(){return a.Tag.render(se||(se=X`
			<div class="intranet-settings-widget_inline-box">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,je)[je](),babelHelpers.classPrivateFieldLooseBase(this,Ae)[Ae]())}function es(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]+"?page=security&analyticContext=widget_settings_settings")};const s=a.Tag.render(te||(te=X`
			<span onclick="${0}" class="intranet-settings-widget_box --clickable">
				<div class="intranet-settings-widget_inner">
					<div class="intranet-settings-widget_icon-box ${0}">
						<div class="ui-icon-set --shield"></div>
					</div>
					<div class="intranet-settings-widget__title">
						${0}
					</div>
				</div>
				<div class="intranet-settings-widget__arrow-btn ui-icon-set --arrow-right"></div>
			</span>
		`),e,babelHelpers.classPrivateFieldLooseBase(this,oe)[oe].IS_ACTIVE==="Y"?"--green":"--yellow",a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_SECURITY_TITLE"));return babelHelpers.classPrivateFieldLooseBase(this,me)[me](s)}function ss(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]+"?analyticContext=widget_settings_settings")};const s=a.Tag.render(ie||(ie=X`
			<span onclick="${0}" class="intranet-settings-widget_box --clickable">
				<div class="intranet-settings-widget_inner">
					<div class="intranet-settings-widget_icon-box --gray">
						<div class="ui-icon-set --settings-2"></div>
					</div>
					<div class="intranet-settings-widget__title">
						${0}
					</div>
				</div>
				<div class="intranet-settings-widget__arrow-btn ui-icon-set --arrow-right"></div>
			</span>
		`),e,a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_SETTINGS_TITLE"));return babelHelpers.classPrivateFieldLooseBase(this,me)[me](s)}function ts(){const e=()=>{this.getWidget().close();BX.SidePanel.Instance.open(`${babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]}category/migration/`)};const s=a.Tag.render(ae||(ae=X`
			<div onclick="${0}" class="intranet-settings-widget_box --clickable">
				<div class="intranet-settings-widget_inner">
					<div class="intranet-settings-widget_icon-box --gray">
						<div class="ui-icon-set --market-1"></div>
					</div>
					<div class="intranet-settings-widget__title">
						${0}
					</div>
				</div>
				<div class="intranet-settings-widget__arrow-btn ui-icon-set --arrow-right"></div>
			</div>
		`),e,a.Loc.getMessage("INTRANET_SETTINGS_WIDGET_SECTION_MIGRATION_TITLE"));return babelHelpers.classPrivateFieldLooseBase(this,me)[me](s)}Object.defineProperty(Ge,ne,{writable:true,value:null});e.SettingsWidget=Ge})(this.BX.Intranet=this.BX.Intranet||{},BX.Main,BX.UI.Analytics,BX.Event,BX,BX.UI);
//# sourceMappingURL=script.map.js