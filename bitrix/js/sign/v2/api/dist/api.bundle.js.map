{"version":3,"file":"api.bundle.js","sources":["../src/type.js","../src/index.js"],"sourcesContent":["export type LoadedDocumentData = {\n\tblankId: number;\n\tentityId: number;\n\tentityType: string;\n\tentityTypeId: number;\n\tid: number;\n\tinitiator: string;\n\tlangId: string;\n\tparties: number;\n\tresultFileId: number;\n\tscenario: string;\n\tstatus: string;\n\ttitle: string;\n\tuid: string;\n\tversion: number;\n};\nexport type Communication = {\n\tID: number;\n\tTYPE: 'EMAIL' | 'PHONE';\n\tVALUE: string;\n\tVALUE_TYPE: string;\n};\nexport type BlockData = {\n\ttext?: string;\n\tfield?: string;\n\thasFields?: boolean;\n\tpresetId?: number;\n\t__view?: { crmNumeratorUrl?: string; base64?: string; };\n\tfileId?: number;\n};\ntype BlockSettings = {\n\tpositon: {\n\t\ttop: string;\n\t\tleft: string;\n\t\twidth: string;\n\t\twidthPx: number;\n\t\theight: string;\n\t\theightPx: number;\n\t},\n\tstyle: { [$Keys<CSSStyleDeclaration>]: string; }\n};\nexport type LoadedBlock = {\n\tcode: string;\n\tdata: BlockData;\n\tid: number;\n\tparty: number;\n\ttype: string;\n\tposition: BlockSettings['position'];\n\tstyle: BlockSettings['style'];\n};\n\nexport type Role = 'assignee' | 'signer' | 'editor' | 'reviewer';\nexport const MemberRole: $ReadOnly<{ [key: Role]: Role }> = Object.freeze({\n\tassignee: 'assignee',\n\tsigner: 'signer',\n\teditor: 'editor',\n\treviewer: 'reviewer',\n});\n\nexport type SetupMember = {\n\tentityType: string;\n\tentityId: number;\n\tparty: number;\n\trole?: Role;\n};\n","import { ajax, Loc, Text } from 'main.core';\nimport { UI } from 'ui.notification';\nimport { StubNotAvailable, StubType, StubLinkType } from 'ui.sidepanel-content';\nimport { SetupMember, Role, MemberRole } from './type';\nimport type {\n\tLoadedDocumentData,\n\tCommunication,\n\tBlockData,\n\tLoadedBlock,\n} from './type';\n\nexport type { SetupMember, Role };\nexport { MemberRole };\n\nexport class Api\n{\n\t#post(endpoint: string, data: Object = null, notifyError: boolean): Promise<Object>\n\t{\n\t\treturn this.#request('POST', endpoint, data, notifyError);\n\t}\n\n\tasync #request(\n\t\tmethod: string,\n\t\tendpoint: string,\n\t\tdata: ?Object,\n\t\tnotifyError: ?boolean = true,\n\t): Promise<Object>\n\t{\n\t\tconst config = { method };\n\t\tif (method === 'POST')\n\t\t{\n\t\t\tObject.assign(config, { data }, {\n\t\t\t\tpreparePost: false,\n\t\t\t\theaders: [{\n\t\t\t\t\tname: 'Content-Type',\n\t\t\t\t\tvalue: 'application/json',\n\t\t\t\t}],\n\t\t\t});\n\t\t}\n\n\t\ttry\n\t\t{\n\t\t\tconst response = await ajax.runAction(endpoint, config);\n\t\t\tif (response.errors?.length > 0)\n\t\t\t{\n\t\t\t\tthrow new Error(response.errors[0].message);\n\t\t\t}\n\n\t\t\treturn response.data;\n\t\t}\n\t\tcatch (ex)\n\t\t{\n\t\t\tif (!notifyError)\n\t\t\t{\n\t\t\t\treturn ex;\n\t\t\t}\n\n\t\t\tconst { message = `Error in ${endpoint}`, errors = [] } = ex;\n\t\t\tconst errorCode = errors[0]?.code ?? '';\n\n\t\t\tif (errorCode === 'SIGN_CLIENT_CONNECTION_ERROR')\n\t\t\t{\n\t\t\t\tconst stub = new StubNotAvailable({\n\t\t\t\t\ttitle: Loc.getMessage('SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_TITLE'),\n\t\t\t\t\tdesc: Loc.getMessage('SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_DESC'),\n\t\t\t\t\ttype: StubType.noConnection,\n\t\t\t\t\tlink: {\n\t\t\t\t\t\ttext: Loc.getMessage('SIGN_JS_V2_API_ERROR_CLIENT_CONNECTION_LINK_TEXT'),\n\t\t\t\t\t\tvalue: '18740976',\n\t\t\t\t\t\ttype: StubLinkType.helpdesk,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tstub.openSlider();\n\n\t\t\t\tthrow ex;\n\t\t\t}\n\n\t\t\tif (errorCode === 'LICENSE_LIMITATIONS')\n\t\t\t{\n\t\t\t\ttop.BX.UI.InfoHelper.show('limit_office_e_signature_box');\n\n\t\t\t\tthrow ex;\n\t\t\t}\n\n\t\t\tif (errorCode === 'SIGN_DOCUMENT_INCORRECT_STATUS')\n\t\t\t{\n\t\t\t\tconst stub = new StubNotAvailable({\n\t\t\t\t\ttitle: Loc.getMessage('SIGN_DOCUMENT_INCORRECT_STATUS_STUB_TITLE'),\n\t\t\t\t\tdesc: Loc.getMessage('SIGN_DOCUMENT_INCORRECT_STATUS_STUB_DESC'),\n\t\t\t\t\ttype: StubType.notAvailable,\n\t\t\t\t});\n\t\t\t\tstub.openSlider();\n\n\t\t\t\t//close previous slider (with editor)\n\t\t\t\tconst slider = BX.SidePanel.Instance.getTopSlider();\n\t\t\t\tconst onSliderCloseHandler = (e: BX.SidePanel.Event): void => {\n\t\t\t\t\tif (slider !== e.getSlider())\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\twindow.top.BX.removeCustomEvent(\n\t\t\t\t\t\tslider.getWindow(),\n\t\t\t\t\t\t'SidePanel.Slider:onClose',\n\t\t\t\t\t\tonSliderCloseHandler,\n\t\t\t\t\t);\n\n\t\t\t\t\tconst sliders = window.top.BX.SidePanel.Instance.getOpenSliders();\n\t\t\t\t\tfor (let i = sliders.length - 2; i >= 0; i--)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (sliders[i].getUrl().startsWith('/sign/doc/'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsliders[i].close();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\twindow.top.BX.addCustomEvent(slider.getWindow(), 'SidePanel.Slider:onClose', onSliderCloseHandler);\n\n\t\t\t\tthrow ex;\n\t\t\t}\n\n\t\t\tif (errorCode === 'B2E_RESTRICTED_ON_TARIFF' || errorCode === 'B2E_SIGNERS_LIMIT_REACHED_ON_TARIFF')\n\t\t\t{\n\t\t\t\ttop.BX.UI.InfoHelper.show('limit_office_e_signature');\n\n\t\t\t\tthrow ex;\n\t\t\t}\n\n\t\t\tconst content = errors[0]?.message ?? message;\n\t\t\tUI.Notification.Center.notify({\n\t\t\t\tcontent: Text.encode(content),\n\t\t\t\tautoHideDelay: 4000,\n\t\t\t});\n\n\t\t\tthrow ex;\n\t\t}\n\t}\n\n\tregister(blankId: string, scenarioType: string | null = null): Promise<{ uid: string; }>\n\t{\n\t\treturn this.#post('sign.api_v1.document.register', { blankId, scenarioType });\n\t}\n\n\tupload(uid: string): Promise<[]>\n\t{\n\t\treturn this.#post('sign.api_v1.document.upload', { uid });\n\t}\n\n\tgetPages(uid: string): Promise<Array<{ url: string; }>>\n\t{\n\t\treturn this.#post('sign.api_v1.document.pages.list', { uid }, false);\n\t}\n\n\tloadBlanks(page: number, scenario: string | null = null): Promise<Array<{ title: string; id: number }>>\n\t{\n\t\treturn this.#post('sign.api_v1.document.blank.list', { page, scenario });\n\t}\n\n\tcreateBlank(files: Array<string>, scenario: string | null = null): Promise<{ id: number; }>\n\t{\n\t\treturn this.#post('sign.api_v1.document.blank.create', { files, scenario });\n\t}\n\n\tsaveBlank(documentUid: string, blocks: []): Promise<[]>\n\t{\n\t\treturn this.#post('sign.api_v1.document.blank.block.save', { documentUid, blocks }, false);\n\t}\n\n\tloadBlocksData(documentUid: string, blocks: []): Promise<BlockData>\n\t{\n\t\treturn this.#post('sign.api_v1.document.blank.block.loadData', { documentUid, blocks });\n\t}\n\n\tchangeDocument(uid: string, blankId: number): Promise<{ uid: string; }>\n\t{\n\t\treturn this.#post('sign.api_v1.document.changeBlank', { uid, blankId });\n\t}\n\n\tchangeDocumentLanguages(uid: string, lang: string): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.document.changeDocumentLanguages', { uid, lang });\n\t}\n\n\tchangeRegionDocumentType(uid: string, type: string): Promise<{ status: string; data: []; errors: string[]; }>\n\t{\n\t\treturn this.#post('sign.api_v1.document.modifyRegionDocumentType', { uid, type });\n\t}\n\n\tchangeExternalId(uid: string, id: string): Promise<{ status: string; data: []; errors: string[]; }>\n\t{\n\t\treturn this.#post('sign.api_v1.document.modifyExternalId', { uid, id });\n\t}\n\n\tchangeExternalDate(uid: string, externalDate: string): Promise<{ status: string; data: []; errors: string[]; }>\n\t{\n\t\treturn this.#post('sign.api_v1.document.modifyExternalDate', { uid, externalDate });\n\t}\n\n\tloadDocument(uid: string): Promise<LoadedDocumentData>\n\t{\n\t\treturn this.#post('sign.api_v1.document.load', { uid });\n\t}\n\n\tconfigureDocument(uid: string): Promise<[]>\n\t{\n\t\treturn this.#post('sign.api_v1.document.configure', { uid });\n\t}\n\n\tloadBlocksByDocument(documentUid: string): Promise<Array<LoadedBlock>>\n\t{\n\t\treturn this.#post('sign.api_v1.document.blank.block.loadByDocument', {\n\t\t\tdocumentUid,\n\t\t});\n\t}\n\n\tstartSigning(uid: string): Promise<[]>\n\t{\n\t\treturn this.#post('sign.api_v1.document.signing.start', { uid });\n\t}\n\n\taddMember(\n\t\tdocumentUid: string,\n\t\tentityType: string,\n\t\tentityId: number,\n\t\tparty: number,\n\t\tpresetId: number,\n\t): Promise<{ uid: string; }>\n\t{\n\t\treturn this.#post('sign.api_v1.document.member.add', {\n\t\t\tdocumentUid,\n\t\t\tentityType,\n\t\t\tentityId,\n\t\t\tparty,\n\t\t\tpresetId,\n\t\t});\n\t}\n\n\tremoveMember(uid: string): Promise<[]>\n\t{\n\t\treturn this.#post('sign.api_v1.document.member.remove', { uid });\n\t}\n\n\tloadMembers(documentUid: string): Promise<Array<{ entityId: number; uid: string; }>>\n\t{\n\t\treturn this.#post('sign.api_v1.document.member.load', { documentUid });\n\t}\n\n\tmodifyCommunicationChannel(\n\t\tuid: string,\n\t\tchannelType: string,\n\t\tchannelValue: string,\n\t): Promise<[]>\n\t{\n\t\treturn this.#post('sign.api_v1.document.member.modifyCommunicationChannel', {\n\t\t\tuid,\n\t\t\tchannelType,\n\t\t\tchannelValue,\n\t\t});\n\t}\n\n\tloadCommunications(uid: String): Promise<Array<Communication>>\n\t{\n\t\treturn this.#post('sign.api_v1.document.member.loadCommunications', { uid });\n\t}\n\n\tmodifyTitle(uid: string, title: string): Promise<{blankTitle: string}>\n\t{\n\t\treturn this.#post('sign.api_v1.document.modifyTitle', {\n\t\t\tuid,\n\t\t\ttitle,\n\t\t});\n\t}\n\n\tmodifyInitiator(uid: string, initiator: string): Promise<[]>\n\t{\n\t\treturn this.#post('sign.api_v1.document.modifyInitiator', {\n\t\t\tuid,\n\t\t\tinitiator,\n\t\t});\n\t}\n\n\tmodifyLanguageId(uid: string, langId: string): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.document.modifyLangId', {\n\t\t\tuid,\n\t\t\tlangId,\n\t\t});\n\t}\n\n\tloadLanguages(): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.document.loadLanguage');\n\t}\n\n\trefreshEntityNumber(documentUid: string): Promise<[]>\n\t{\n\t\treturn this.#post('sign.api_v1.document.refreshEntityNumber', {\n\t\t\tdocumentUid,\n\t\t});\n\t}\n\n\tchangeDomain(): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.portal.changeDomain');\n\t}\n\n\tloadRestrictions(): Promise<{ smsAllowed: boolean; }>\n\t{\n\t\treturn this.#post('sign.api_v1.portal.hasRestrictions');\n\t}\n\n\tsaveStamp(memberUid: String, fileId: string): Promise<{ id: number; srcUri: string; }>\n\t{\n\t\treturn this.#post('sign.api_v1.document.member.saveStamp', {\n\t\t\tmemberUid, fileId,\n\t\t});\n\t}\n\n\tsetupB2eParties(\n\t\tdocumentUid: string,\n\t\trepresentativeId: number,\n\t\tmembers: Array<SetupMember>,\n\t): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.document.member.setupB2eParties', {\n\t\t\tdocumentUid, representativeId, members,\n\t\t});\n\t}\n\n\tupdateChannelTypeToB2eMembers(\n\t\tmembersUids: Array<string>,\n\t\tchannelType: string,\n\t): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.b2e.member.communication.updateMembersChannelType', {\n\t\t\tmembers: membersUids,\n\t\t\tchannelType,\n\t\t});\n\t}\n\n\tloadB2eCompanyList(): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.integration.crm.b2ecompany.list');\n\t}\n\n\tmodifyB2eCompany(documentUid: string, companyUid: string): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.document.modifyCompany', {\n\t\t\tdocumentUid, companyUid,\n\t\t});\n\t}\n\n\tmodifyB2eDocumentScheme(uid: string, scheme: string): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.document.modifyScheme', {\n\t\t\tuid, scheme,\n\t\t});\n\t}\n\n\tloadB2eAvaialbleSchemes(documentUid: string): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.b2e.scheme.load', {\n\t\t\tdocumentUid,\n\t\t});\n\t}\n\n\tdeleteB2eCompany(id: string): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.integration.crm.b2ecompany.delete', {\n\t\t\tid,\n\t\t});\n\t}\n\n\tgetLinkForSigning(memberId: number, notifyError: boolean = true): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.b2e.member.link.getLinkForSigning', {\n\t\t\tmemberId,\n\t\t}, notifyError);\n\t}\n\n\tmemberLoadReadyForMessageStatus(memberIds: Array<number>): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.document.send.getMembersForResend', {\n\t\t\tmemberIds,\n\t\t});\n\t}\n\n\tmemberResendMessage(memberIds: Array<number>): Promise\n\t{\n\t\treturn this.#post('sign.api_v1.document.send.resendMessage', {\n\t\t\tmemberIds,\n\t\t});\n\t}\n\n\tgetBlankById(id: number): Promise<{id: number, title: string, scenario: string}>\n\t{\n\t\treturn this.#post('sign.api_v1.document.blank.getById', { id });\n\t}\n\n\tregisterB2eCompany(providerCode: string, taxId: string): Promise<{ id: number }>\n\t{\n\t\treturn this.#post('sign.api_v1.integration.crm.b2ecompany.register', {\n\t\t\tproviderCode, taxId,\n\t\t});\n\t}\n\n\tsetDecisionToSesB2eAgreement(): Promise<{decision: string}>\n\t{\n\t\treturn this.#post('sign.api_v1.b2e.member.communication.setAgreementDecision', {});\n\t}\n\n\tgetDocumentFillAndStartProgress(uid: string): Promise<{completed: boolean, progress: Number}>\n\t{\n\t\treturn this.#post('sign.api_v1.document.getFillAndStartProgress', { uid });\n\t}\n}\n"],"names":["MemberRole","Object","freeze","assignee","signer","editor","reviewer","Api","register","blankId","scenarioType","upload","uid","getPages","loadBlanks","page","scenario","createBlank","files","saveBlank","documentUid","blocks","loadBlocksData","changeDocument","changeDocumentLanguages","lang","changeRegionDocumentType","type","changeExternalId","id","changeExternalDate","externalDate","loadDocument","configureDocument","loadBlocksByDocument","startSigning","addMember","entityType","entityId","party","presetId","removeMember","loadMembers","modifyCommunicationChannel","channelType","channelValue","loadCommunications","modifyTitle","title","modifyInitiator","initiator","modifyLanguageId","langId","loadLanguages","refreshEntityNumber","changeDomain","loadRestrictions","saveStamp","memberUid","fileId","setupB2eParties","representativeId","members","updateChannelTypeToB2eMembers","membersUids","loadB2eCompanyList","modifyB2eCompany","companyUid","modifyB2eDocumentScheme","scheme","loadB2eAvaialbleSchemes","deleteB2eCompany","getLinkForSigning","memberId","notifyError","memberLoadReadyForMessageStatus","memberIds","memberResendMessage","getBlankById","registerB2eCompany","providerCode","taxId","setDecisionToSesB2eAgreement","getDocumentFillAndStartProgress","endpoint","data","method","config","assign","preparePost","headers","name","value","response","ajax","runAction","errors","length","Error","message","ex","errorCode","code","stub","StubNotAvailable","Loc","getMessage","desc","StubType","noConnection","link","text","StubLinkType","helpdesk","openSlider","top","BX","UI","InfoHelper","show","notAvailable","slider","SidePanel","Instance","getTopSlider","onSliderCloseHandler","e","getSlider","window","removeCustomEvent","getWindow","sliders","getOpenSliders","i","getUrl","startsWith","close","addCustomEvent","content","Notification","Center","notify","Text","encode","autoHideDelay"],"mappings":"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"}